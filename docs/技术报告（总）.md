---
puppeteer:
  printBackground: true  # å¿…é¡»å¼€å¯
---

# æŠ€æœ¯æŠ¥å‘Š

**ç›®å½•**

- [To-Do List éœ€æ±‚åˆ†ææ–‡æ¡£](#to-do-list-éœ€æ±‚åˆ†ææ–‡æ¡£)
- [Todo-List æ¦‚è¦è®¾è®¡æ–‡æ¡£](#todo-list-æ¦‚è¦è®¾è®¡æ–‡æ¡£)
- [To-Do List ç³»ç»Ÿè¯¦ç»†è®¾è®¡æ–‡æ¡£](#to-do-list-ç³»ç»Ÿè¯¦ç»†è®¾è®¡æ–‡æ¡£)
- [Todo-List æ¥å£è®¾è®¡æ–‡æ¡£](#todo-list-æ¥å£è®¾è®¡æ–‡æ¡£)
- [Git ä½¿ç”¨æŠ¥å‘Š - to\_do\_list](#git-ä½¿ç”¨æŠ¥å‘Š---to_do_list)
- [æµ‹è¯•æŠ¥å‘Š](#å¾…åŠäº‹é¡¹åç«¯api-æµ‹è¯•æŠ¥å‘Š)
- [CI/CD æŠ€æœ¯æ–‡æ¡£](#cicd-æŠ€æœ¯æ–‡æ¡£)
- [ToDoList é¡¹ç›®æ€»ç»“æŠ¥å‘Š](#todolist-é¡¹ç›®æ€»ç»“æŠ¥å‘Š)

---

# To-Do List éœ€æ±‚åˆ†ææ–‡æ¡£

**ç›®å½•**
- [To-Do List éœ€æ±‚åˆ†ææ–‡æ¡£](#to-do-list-éœ€æ±‚åˆ†ææ–‡æ¡£)
  - [ğŸ“‹ é¡¹ç›®ä¿¡æ¯](#-é¡¹ç›®ä¿¡æ¯)
  - [ğŸ¯ é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
    - [é¡¹ç›®ç›®æ ‡](#é¡¹ç›®ç›®æ ‡)
  - [ğŸ” åŠŸèƒ½éœ€æ±‚](#-åŠŸèƒ½éœ€æ±‚)
    - [æ ¸å¿ƒåŠŸèƒ½(P0 - å¿…é¡»æœ‰)](#æ ¸å¿ƒåŠŸèƒ½p0---å¿…é¡»æœ‰)
    - [é‡è¦åŠŸèƒ½(P1 - åº”è¯¥æœ‰)](#é‡è¦åŠŸèƒ½p1---åº”è¯¥æœ‰)
    - [å¯é€‰åŠŸèƒ½(P2/P3)](#å¯é€‰åŠŸèƒ½p2p3)
  - [ğŸ“Š éåŠŸèƒ½æ€§éœ€æ±‚](#-éåŠŸèƒ½æ€§éœ€æ±‚)
    - [æ€§èƒ½éœ€æ±‚](#æ€§èƒ½éœ€æ±‚)
    - [å¯ç”¨æ€§éœ€æ±‚](#å¯ç”¨æ€§éœ€æ±‚)
    - [å®‰å…¨æ€§éœ€æ±‚](#å®‰å…¨æ€§éœ€æ±‚)
    - [å…¼å®¹æ€§éœ€æ±‚](#å…¼å®¹æ€§éœ€æ±‚)
  - [ï¿½ æ•°æ®æ¨¡å‹](#-æ•°æ®æ¨¡å‹)
    - [ä»»åŠ¡è¡¨(Tasks)](#ä»»åŠ¡è¡¨tasks)
    - [ä¹ æƒ¯è¡¨(Habits)](#ä¹ æƒ¯è¡¨habits)
  - [ğŸ”„ æ ¸å¿ƒä¸šåŠ¡æµç¨‹](#-æ ¸å¿ƒä¸šåŠ¡æµç¨‹)
    - [ä»»åŠ¡ç®¡ç†æµç¨‹](#ä»»åŠ¡ç®¡ç†æµç¨‹)
    - [ä¹ æƒ¯å…»æˆæµç¨‹](#ä¹ æƒ¯å…»æˆæµç¨‹)
    - [ç•ªèŒ„é’Ÿå·¥ä½œæµç¨‹](#ç•ªèŒ„é’Ÿå·¥ä½œæµç¨‹)
  - [ğŸ“‹ çº¦æŸæ¡ä»¶](#-çº¦æŸæ¡ä»¶)
    - [æŠ€æœ¯çº¦æŸ](#æŠ€æœ¯çº¦æŸ)
    - [ä¸šåŠ¡çº¦æŸ](#ä¸šåŠ¡çº¦æŸ)
    - [æ—¶é—´çº¦æŸ](#æ—¶é—´çº¦æŸ)
  - [âœ… éªŒæ”¶æ ‡å‡†](#-éªŒæ”¶æ ‡å‡†)
    - [åŠŸèƒ½éªŒæ”¶](#åŠŸèƒ½éªŒæ”¶)
    - [æ€§èƒ½éªŒæ”¶](#æ€§èƒ½éªŒæ”¶)
    - [ç”¨æˆ·ä½“éªŒéªŒæ”¶](#ç”¨æˆ·ä½“éªŒéªŒæ”¶)
  - [ğŸ“š é™„å½•](#-é™„å½•)
    - [åŠŸèƒ½è¯´æ˜è¡¨](#åŠŸèƒ½è¯´æ˜è¡¨)
    - [è”ç³»ä¿¡æ¯](#è”ç³»ä¿¡æ¯)


## ğŸ“‹ é¡¹ç›®ä¿¡æ¯
- **é¡¹ç›®åç§°**: TodoList ä¸ªäººæ•ˆç‡ç®¡ç†ç³»ç»Ÿ
- **ç‰ˆæœ¬**: v1.0.0
- **åˆ›å»ºæ—¥æœŸ**: 2025å¹´7æœˆ4æ—¥

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ç›®æ ‡
å¼€å‘ä¸€ä¸ªé›†ä»»åŠ¡ç®¡ç†ã€ä¹ æƒ¯æ‰“å¡ã€ç•ªèŒ„é’Ÿäºä¸€ä½“çš„ä¸ªäººæ•ˆç‡ç®¡ç†ç³»ç»Ÿï¼Œå¸®åŠ©ç”¨æˆ·ï¼š
- æé«˜å·¥ä½œæ•ˆç‡å’Œä»»åŠ¡ç®¡ç†èƒ½åŠ›
- åŸ¹å…»è‰¯å¥½çš„ç”Ÿæ´»ä¹ æƒ¯
- ä¼˜åŒ–æ—¶é—´ç®¡ç†å’Œä¸“æ³¨åŠ›
- é€šè¿‡æ•°æ®åˆ†ææ”¹è¿›ä¸ªäººæ•ˆç‡


## ğŸ” åŠŸèƒ½éœ€æ±‚

### æ ¸å¿ƒåŠŸèƒ½(P0 - å¿…é¡»æœ‰)

**ä»»åŠ¡ç®¡ç†**
- åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€å®Œæˆä»»åŠ¡
- ä»»åŠ¡åŒ…å«ï¼šåç§°ã€æè¿°ã€æˆªæ­¢æ—¥æœŸã€ä¼˜å…ˆçº§
- ç­›é€‰åŠŸèƒ½

**æ™ºèƒ½ä¼˜å…ˆçº§**
- åŸºäºé‡è¦æ€§ã€ç´§æ€¥æ€§ã€æˆªæ­¢æ—¥æœŸè‡ªåŠ¨è®¡ç®—
- æ”¯æŒæ‰‹åŠ¨è°ƒæ•´æƒé‡
- æŒ‰ä¼˜å…ˆçº§æ’åºæ˜¾ç¤º

### é‡è¦åŠŸèƒ½(P1 - åº”è¯¥æœ‰)

**å±‚çº§ä»»åŠ¡(tkinterå‰ç«¯å®ç°ï¼Œhtmlå¹¶æ²¡æœ‰)**
- æ”¯æŒçˆ¶å­ä»»åŠ¡å…³ç³»
- å­ä»»åŠ¡å®Œæˆå½±å“çˆ¶ä»»åŠ¡è¿›åº¦

**ä¹ æƒ¯æ‰“å¡**
- åˆ›å»ºå’Œç®¡ç†ä¸ªäººä¹ æƒ¯
- æ¯æ—¥æ‰“å¡è®°å½•å’Œç»Ÿè®¡

**ç•ªèŒ„é’Ÿ**
- å¯è‡ªå®šä¹‰å·¥ä½œæ—¶é—´å’Œä¼‘æ¯æ—¶é—´
- è®¡æ—¶æé†’

### å¯é€‰åŠŸèƒ½(P2/P3)

**æ—¥å†è§†å›¾**
- æœˆè§†å›¾æ˜¾ç¤ºä»»åŠ¡åˆ†å¸ƒ
- æ‹–æ‹½è°ƒæ•´ä»»åŠ¡æ—¥æœŸ

**æ•°æ®å¯¼å‡º**
- æ”¯æŒCSVã€PDFæ ¼å¼
- åŒ…å«ç»Ÿè®¡åˆ†ææ•°æ®

## ğŸ“Š éåŠŸèƒ½æ€§éœ€æ±‚

### æ€§èƒ½éœ€æ±‚
- é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- APIå“åº”æ—¶é—´ < 2ç§’  
- æœç´¢å“åº”æ—¶é—´ < 1ç§’
- æ”¯æŒ100ä¸ªå¹¶å‘ç”¨æˆ·

### å¯ç”¨æ€§éœ€æ±‚
- ç³»ç»Ÿå¯ç”¨æ€§è¾¾åˆ°99.5%
- ç•Œé¢ç®€æ´ç›´è§‚ï¼Œæ“ä½œæµç•…

### å®‰å…¨æ€§éœ€æ±‚
- ç”¨æˆ·æ•°æ®æœ¬åœ°å­˜å‚¨
- è¾“å…¥æ•°æ®éªŒè¯é˜²æŠ¤
- æ“ä½œç¡®è®¤æœºåˆ¶

### å…¼å®¹æ€§éœ€æ±‚
- æ”¯æŒWindows 10/11
- Python 3.8+ç‰ˆæœ¬
- ä¸»æµæµè§ˆå™¨å…¼å®¹

## ï¿½ æ•°æ®æ¨¡å‹

### ä»»åŠ¡è¡¨(Tasks)
| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | INTEGER | æ˜¯ | ä»»åŠ¡ID |
| name | VARCHAR(255) | æ˜¯ | ä»»åŠ¡åç§° |
| description | TEXT | å¦ | ä»»åŠ¡æè¿° |
| due_date | DATETIME | å¦ | æˆªæ­¢æ—¥æœŸ |
| completed | BOOLEAN | æ˜¯ | å®ŒæˆçŠ¶æ€ |
| importance | BOOLEAN | æ˜¯ | é‡è¦æ€§ |
| urgent | BOOLEAN | æ˜¯ | ç´§æ€¥æ€§ |
| parent_id | INTEGER | å¦ | çˆ¶ä»»åŠ¡ID |

### ä¹ æƒ¯è¡¨(Habits)
| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | INTEGER | æ˜¯ | ä¹ æƒ¯ID |
| name | VARCHAR(128) | æ˜¯ | ä¹ æƒ¯åç§° |
| description | TEXT | å¦ | ä¹ æƒ¯æè¿° |
| completed | BOOLEAN | æ˜¯ | å½“æ—¥å®ŒæˆçŠ¶æ€ |

## ğŸ”„ æ ¸å¿ƒä¸šåŠ¡æµç¨‹

### ä»»åŠ¡ç®¡ç†æµç¨‹
```
åˆ›å»ºä»»åŠ¡ â†’ è®¾ç½®å±æ€§ â†’ è®¡ç®—ä¼˜å…ˆçº§ â†’ æ‰§è¡Œä»»åŠ¡ â†’ å®Œæˆä»»åŠ¡
```

### ä¹ æƒ¯å…»æˆæµç¨‹
```
åˆ›å»ºä¹ æƒ¯ â†’ æ¯æ—¥æ‰“å¡ â†’ ç»Ÿè®¡åˆ†æ â†’ æŒç»­æ”¹è¿›
```

### ç•ªèŒ„é’Ÿå·¥ä½œæµç¨‹
```
é€‰æ‹©ä»»åŠ¡ â†’ è®¾ç½®ç•ªèŒ„é’Ÿ â†’ ä¸“æ³¨å·¥ä½œ25åˆ†é’Ÿ â†’ ä¼‘æ¯5åˆ†é’Ÿ
```

## ğŸ“‹ çº¦æŸæ¡ä»¶

### æŠ€æœ¯çº¦æŸ
- åç«¯ï¼šPython + FastAPI
- å‰ç«¯ï¼šHTML + JavaScript / Tkinter
- æ•°æ®åº“ï¼šSQLite
- æ¡Œé¢åº”ç”¨ï¼šTkinter
- æ”¯æŒWindows 10/11ï¼ŒPython 3.8+

### ä¸šåŠ¡çº¦æŸ
- ç”¨æˆ·æ•°æ®æœ¬åœ°å­˜å‚¨
- æ¯ä¸ªä¹ æƒ¯æ¯å¤©åªèƒ½æ‰“å¡ä¸€æ¬¡

### æ—¶é—´çº¦æŸ
- é¡¹ç›®æ€»å¼€å‘å‘¨æœŸï¼š2å‘¨

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
- [x] ä»»åŠ¡CRUDæ“ä½œæ­£å¸¸
- [x] ä»»åŠ¡ä¼˜å…ˆçº§æ’åºå‡†ç¡®
- [x] çˆ¶å­ä»»åŠ¡å…³ç³»æ­£ç¡®
- [x] ä¹ æƒ¯æ‰“å¡åŠŸèƒ½æ­£å¸¸
- [x] ç•ªèŒ„é’Ÿè®¡æ—¶å‡†ç¡®

### æ€§èƒ½éªŒæ”¶
- [x] åº”ç”¨å¯åŠ¨æ—¶é—´ < 5ç§’
- [x] ä»»åŠ¡åˆ—è¡¨åŠ è½½ < 2ç§’
- [x] æœç´¢å“åº” < 1ç§’

### ç”¨æˆ·ä½“éªŒéªŒæ”¶
- [x] ç•Œé¢å¸ƒå±€ç¾è§‚
- [x] æ“ä½œæµç¨‹ç›´è§‚
- [x] å“åº”å¼è®¾è®¡é€‚é…

---

## ğŸ“š é™„å½•

### åŠŸèƒ½è¯´æ˜è¡¨
- **ä»»åŠ¡**: ç”¨æˆ·éœ€è¦å®Œæˆçš„å…·ä½“å·¥ä½œé¡¹
- **ä¹ æƒ¯**: ç”¨æˆ·å¸Œæœ›å…»æˆçš„æ—¥å¸¸è¡Œä¸º
- **ä¼˜å…ˆçº§**: ä»»åŠ¡é‡è¦ç¨‹åº¦çš„é‡åŒ–æŒ‡æ ‡
- **ç•ªèŒ„é’Ÿ**: åŸºäºç•ªèŒ„å·¥ä½œæ³•çš„æ—¶é—´ç®¡ç†æŠ€æœ¯

### è”ç³»ä¿¡æ¯
- **æ–‡æ¡£ç»´æŠ¤**: ä¸¥æ™¨ï¼Œç‰›èŒ‚æ¶¦
- **æœ€åæ›´æ–°**: 2025å¹´7æœˆ7æ—¥



---

# Todo-List æ¦‚è¦è®¾è®¡æ–‡æ¡£


**æ–‡æ¡£ç‰ˆæœ¬ï¼š** V1.0  
**ç¼–å†™äººï¼š** é¡¾æ™¨æ˜Š  
**ç¼–å†™æ—¥æœŸï¼š** 2025å¹´07æœˆ05æ—¥  
**æœ€åä¿®è®¢æ—¥æœŸï¼š** 2025å¹´07æœˆ05æ—¥  

---
**ç›®å½•**
- [Todo-List æ¦‚è¦è®¾è®¡æ–‡æ¡£](#todo-list-æ¦‚è¦è®¾è®¡æ–‡æ¡£)
    - [1. å¼•è¨€](#1-å¼•è¨€)
      - [1.1. æ–‡æ¡£ç›®çš„](#11-æ–‡æ¡£ç›®çš„)
      - [1.2. èŒƒå›´](#12-èŒƒå›´)
      - [1.3. è¯»è€…å¯¹è±¡](#13-è¯»è€…å¯¹è±¡)
      - [1.4. æœ¯è¯­ä¸ç¼©ç•¥è¯­](#14-æœ¯è¯­ä¸ç¼©ç•¥è¯­)
      - [1.5. å‚è€ƒæ–‡æ¡£](#15-å‚è€ƒæ–‡æ¡£)
    - [2. ç³»ç»Ÿæ¶æ„æ¦‚è¿°](#2-ç³»ç»Ÿæ¶æ„æ¦‚è¿°)
      - [2.1. æ¶æ„é£æ ¼é€‰æ‹©](#21-æ¶æ„é£æ ¼é€‰æ‹©)
      - [2.2. æ•´ä½“æ¶æ„å›¾](#22-æ•´ä½“æ¶æ„å›¾)
      - [2.3. æ¶æ„ç»„ä»¶æè¿°](#23-æ¶æ„ç»„ä»¶æè¿°)
    - [3. æ¨¡å—è®¾è®¡](#3-æ¨¡å—è®¾è®¡)
      - [3.1. æ¨¡å—åˆ’åˆ†](#31-æ¨¡å—åˆ’åˆ†)
      - [3.2. æ¨¡å—äº¤äº’æµç¨‹](#32-æ¨¡å—äº¤äº’æµç¨‹)
    - [4. æŠ€æœ¯é€‰å‹](#4-æŠ€æœ¯é€‰å‹)
      - [4.1. å‰ç«¯æŠ€æœ¯æ ˆ](#41-å‰ç«¯æŠ€æœ¯æ ˆ)
      - [4.2. åç«¯æŠ€æœ¯æ ˆ](#42-åç«¯æŠ€æœ¯æ ˆ)
      - [4.3. æ•°æ®å­˜å‚¨](#43-æ•°æ®å­˜å‚¨)
    - [5. å…³é”®è®¾è®¡](#5-å…³é”®è®¾è®¡)
      - [5.1. ä»»åŠ¡ä¼˜å…ˆçº§ç®—æ³•](#51-ä»»åŠ¡ä¼˜å…ˆçº§ç®—æ³•)
      - [5.2. è¿ç»­æ‰“å¡ç»Ÿè®¡](#52-è¿ç»­æ‰“å¡ç»Ÿè®¡)
    - [6. éƒ¨ç½²æ–¹æ¡ˆ](#6-éƒ¨ç½²æ–¹æ¡ˆ)
      - [6.1. å¼€å‘ç¯å¢ƒ](#61-å¼€å‘ç¯å¢ƒ)
      - [6.2. ç”Ÿäº§éƒ¨ç½²](#62-ç”Ÿäº§éƒ¨ç½²)
    - [7. é™„å½•](#7-é™„å½•)
      - [7.1. ä»£ç ç»“æ„](#71-ä»£ç ç»“æ„)
      - [7.2 é£é™©æ¸…å•](#72-é£é™©æ¸…å•)

### 1. å¼•è¨€

#### 1.1. æ–‡æ¡£ç›®çš„
æœ¬æ–‡æ¡£å®šä¹‰åŸºäºTkinter+FastAPIçš„Todo-Listç³»ç»Ÿæ¶æ„è®¾è®¡ï¼Œæ¶µç›–ä»»åŠ¡ç®¡ç†ã€ä¹ æƒ¯è¿½è¸ªä¸¤å¤§æ ¸å¿ƒæ¨¡å—ï¼Œä½œä¸ºå¼€å‘åŸºå‡†è§„èŒƒã€‚
#### 1.2. èŒƒå›´

* **ä»»åŠ¡ç®¡ç†ï¼šå¢åˆ æ”¹æŸ¥ã€å­ä»»åŠ¡ã€ä¼˜å…ˆçº§è®¡ç®—**
* **ä¹ æƒ¯ç®¡ç†ï¼šæ‰“å¡è®°å½•ã€è¿ç»­å¤©æ•°ç»Ÿè®¡**

#### 1.3. è¯»è€…å¯¹è±¡
*   åç«¯å¼€å‘äººå‘˜
*   å‰ç«¯è”è°ƒäººå‘˜
*   é¡¹ç›®æµ‹è¯•äººå‘˜

#### 1.4. æœ¯è¯­ä¸ç¼©ç•¥è¯­
| æœ¯è¯­/ç¼©ç•¥è¯­ | è§£é‡Š |
| :---------- | :--- |
| FastAPI     | ç”¨äºæ„å»ºAPIçš„Pythonæ¡†æ¶ |
| SQLAlchemy  | Python ORMå·¥å…· |
| Tkinter     | Pythonæ ‡å‡†GUIåº“ |

#### 1.5. å‚è€ƒæ–‡æ¡£
*   [éœ€æ±‚åˆ†ææ–‡æ¡£](éœ€æ±‚åˆ†æ.md)
*   [FastAPIå®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)

### 2. ç³»ç»Ÿæ¶æ„æ¦‚è¿°

#### 2.1. æ¶æ„é£æ ¼é€‰æ‹©
* **ä¸‰å±‚æ¶æ„**ï¼š    
   * å‰ç«¯ï¼šTkinteræ¡Œé¢åº”ç”¨
   * åç«¯ï¼šFastAPIå¾®æœåŠ¡  
   * æ•°æ®å±‚ï¼šSQLite+SQLAlchemy
* **ç†ç”±**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£çš„ä¸­å°å‹é¡¹ç›®ã€‚


#### 2.2. æ•´ä½“æ¶æ„å›¾
```mermaid
graph LR
    A[Tkinterå®¢æˆ·ç«¯] -->|HTTP/JSON| B[FastAPIæœåŠ¡]
    B --> C[SQLiteæ•°æ®åº“]
    B --> D[TimeServices]
    subgraph å‰ç«¯
        A --> E[ä¸»çª—å£]
        E --> F[å¯¼èˆªæ ]
        E --> G[å†…å®¹åŒº]
    end
    subgraph åç«¯
        B --> H[ä»»åŠ¡æ¨¡å—]
        B --> I[ä¹ æƒ¯æ¨¡å—]
    end
```
#### 2.3. æ¶æ„ç»„ä»¶æè¿°

| ç»„ä»¶ç±»å‹ | å®ç°ç±»/æ–‡ä»¶ | èŒè´£ |
|----------|-------------|------|
| å‰ç«¯æ¡†æ¶ | main_window.py	 | çª—å£ä¸»æ§/æ‹–åŠ¨é€»è¾‘ |
| è§†å›¾æ¨¡å— | home.py/habitclockin.py | RESTfulç«¯ç‚¹å®šä¹‰ |
| APIæœåŠ¡  | tasks.py/habits.py	 | æ•°æ®ç»Ÿè®¡åˆ†æ | 
| ä¸šåŠ¡é€»è¾‘ | services.py | æ ¸å¿ƒç®—æ³•ï¼ˆå¦‚ä¼˜å…ˆçº§è®¡ç®—ï¼‰ | 
| æ•°æ®æŒä¹…åŒ– | models.py/crud.py | æ•°æ®åº“æ¨¡å‹ä¸æ“ä½œå°è£… | 


### 3. æ¨¡å—è®¾è®¡

#### 3.1. æ¨¡å—åˆ’åˆ†
| æ¨¡å—åç§° | å¯¹åº”ä»£ç æ–‡ä»¶ | æ ¸å¿ƒåŠŸèƒ½ |
|----------|--------------|----------|
| ä¸»çª—å£æ¡†æ¶ | main_window.py	 | åŸºç¡€çª—å£ç®¡ç†/å¯¼èˆªæ§åˆ¶ |
| ä»»åŠ¡ç®¡ç†	 | home.py/services.py | ä»»åŠ¡å¢åˆ æ”¹æŸ¥/æ ‘å½¢å±•ç¤º |
| ä¹ æƒ¯è¿½è¸ª	 | habitclockin.py		 | æ‰“å¡è®°å½•ç®¡ç†/è¿ç»­å¤©æ•°ç»Ÿè®¡ | 
| æ—¶é—´æœåŠ¡	 | services.py(TimeServices) | æ—¥æœŸè®¡ç®—/æ ¼å¼åŒ– | 

#### 3.2. æ¨¡å—äº¤äº’æµç¨‹
```mermaid
sequenceDiagram
    å‰ç«¯->>åç«¯: POST /tasks (åˆ›å»ºä»»åŠ¡)
    åç«¯->>æ•°æ®åº“: å†™å…¥Taskè¡¨
    åç«¯-->>å‰ç«¯: 201 Created
    å‰ç«¯->>åç«¯: GET /habits/streak 
    åç«¯->>æ•°æ®åº“: è®¡ç®—è¿ç»­æ‰“å¡
    åç«¯-->>å‰ç«¯: {"streak_days":7}
```

### 4. æŠ€æœ¯é€‰å‹

#### 4.1. å‰ç«¯æŠ€æœ¯æ ˆ
| æŠ€æœ¯ | ç‰ˆæœ¬ | é€‰ç”¨ç†ç”± |
|----------|--------------|----------|
| Tkinter | Pythonå†…ç½® | é›¶ä¾èµ–/å¿«é€ŸåŸå‹å¼€å‘ |
| ttkç»„ä»¶åº“ |  | ç°ä»£åŒ–æ ·å¼æ”¯æŒ |

#### 4.2. åç«¯æŠ€æœ¯æ ˆ
|   æŠ€æœ¯   |     ç‰ˆæœ¬     | å…³é”®ç‰¹æ€§ |
|----------|--------------|----------|
| FastAPI | 0.95+ | è‡ªåŠ¨APIæ–‡æ¡£/å¼‚æ­¥æ”¯æŒ |
| Pydantic | 2.0+ | å¼ºç±»å‹æ•°æ®éªŒè¯ |
| Uvicorn | 0.22+ | ASGIæœåŠ¡å™¨ | 

#### 4.3. æ•°æ®å­˜å‚¨
```mermaid
erDiagram
    TASK ||--o{ TASK : parent_id
    HABIT ||--o{ HABIT_LOG : logs
    TASK {
        int id PK
        string name
        datetime due_date
        bool urgent
        bool importance
    }
    HABIT_LOG {
        int id PK
        date date
    }
```


### 5. å…³é”®è®¾è®¡

#### 5.1. ä»»åŠ¡ä¼˜å…ˆçº§ç®—æ³•

```python
# models.py

@property
def priority_parameter(self):
    return (self.importance * 0.45 + 
            self.urgent * 0.45 + 
            self._due_date_weight * 0.1)

```            

#### 5.2. è¿ç»­æ‰“å¡ç»Ÿè®¡
```python
# services.py

def get_habit_streak():
    current_date = date.today()
    while current_date in log_dates:
        streak += 1
        current_date -= timedelta(days=1)

```

### 6. éƒ¨ç½²æ–¹æ¡ˆ

#### 6.1. å¼€å‘ç¯å¢ƒ

```python
# åç«¯å¯åŠ¨
uvicorn main:app --reload

# å‰ç«¯å¯åŠ¨
python main_window.py

```

#### 6.2. ç”Ÿäº§éƒ¨ç½²
|   ç»„ä»¶   |   æ–¹æ¡ˆ   |
|----------|----------|
| å‰ç«¯ | PyInstalleræ‰“åŒ…exe | 
| åç«¯ | Dockerå®¹å™¨+Nginxåå‘ä»£ç† |
| æ•°æ®åº“ | PostgreSQLä¸»ä»é›†ç¾¤ |


### 7. é™„å½•

#### 7.1. ä»£ç ç»“æ„
```
.
â”œâ”€â”€ app/ (backend)
â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”œâ”€â”€ habits.py
â”‚   â”‚   â”œâ”€â”€ tasks.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ crud.py        
â”‚   â”œâ”€â”€ db.py          
â”‚   â”œâ”€â”€ main.py        
â”‚   â”œâ”€â”€ models.py      
â”‚   â”œâ”€â”€ schemas.py     
â”‚   â”œâ”€â”€ services.py    
â”‚   â””â”€â”€ __init__.py
â””â”€â”€ gui/ (frontend)
    â”œâ”€â”€ views/
    â”‚   â”œâ”€â”€ calendar.py
    â”‚   â”œâ”€â”€ habitclockin.py
    â”‚   â”œâ”€â”€ home.py
    â”‚   â”œâ”€â”€ timer.py
    â”‚   â””â”€â”€ __init__.py
    â”œâ”€â”€ widgets/
    â”‚   â”œâ”€â”€ content_bar.py
    â”‚   â”œâ”€â”€ navigation_bar.py
    â”‚   â”œâ”€â”€ title_bar.py
    â”‚   â””â”€â”€ __init__.py
    â”œâ”€â”€ main_window.py  
    â”œâ”€â”€ services.py    
    â”œâ”€â”€ utils.py        
    â”œâ”€â”€ README.md
    â””â”€â”€ __init__.py
```

#### 7.2 é£é™©æ¸…å•
|   é£é™©é¡¹   |  åº”å¯¹æªæ–½  |
|------------|------------|
| Tkinteræ€§èƒ½é™åˆ¶ | å¤æ‚ç»„ä»¶è™šæ‹ŸåŒ–æ¸²æŸ“ | 
| SQLiteå¹¶å‘èƒ½åŠ› | è¿ç§»è‡³PostgreSQL |



---

# To-Do List ç³»ç»Ÿè¯¦ç»†è®¾è®¡æ–‡æ¡£

**ç›®å½•**

- [To-Do List ç³»ç»Ÿè¯¦ç»†è®¾è®¡æ–‡æ¡£](#to-do-list-ç³»ç»Ÿè¯¦ç»†è®¾è®¡æ–‡æ¡£)
  - [ğŸ“‹ æ–‡æ¡£ä¿¡æ¯](#-æ–‡æ¡£ä¿¡æ¯)
  - [ğŸ¯ ç³»ç»Ÿæ¦‚è¿°](#-ç³»ç»Ÿæ¦‚è¿°)
    - [1.1 é¡¹ç›®èƒŒæ™¯](#11-é¡¹ç›®èƒŒæ™¯)
    - [1.2 è®¾è®¡ç›®æ ‡](#12-è®¾è®¡ç›®æ ‡)
    - [1.3 æ ¸å¿ƒåŠŸèƒ½](#13-æ ¸å¿ƒåŠŸèƒ½)
  - [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡](#ï¸-ç³»ç»Ÿæ¶æ„è®¾è®¡)
    - [2.1 æ•´ä½“æ¶æ„](#21-æ•´ä½“æ¶æ„)
    - [2.2 æŠ€æœ¯æ¶æ„](#22-æŠ€æœ¯æ¶æ„)
  - [ğŸ“Š æ•°æ®åº“è®¾è®¡](#-æ•°æ®åº“è®¾è®¡)
    - [3.1 æ•°æ®åº“å›¾](#31-æ•°æ®åº“å›¾)
    - [3.2 æ•°æ®è¡¨è¯¦ç»†è®¾è®¡](#32-æ•°æ®è¡¨è¯¦ç»†è®¾è®¡)
      - [3.2.1 Taskï¼ˆä»»åŠ¡è¡¨ï¼‰](#321-taskä»»åŠ¡è¡¨)
      - [3.2.2 Habitï¼ˆä¹ æƒ¯è¡¨ï¼‰](#322-habitä¹ æƒ¯è¡¨)
      - [3.2.3 HabitLogï¼ˆä¹ æƒ¯æ—¥å¿—è¡¨ï¼‰](#323-habitlogä¹ æƒ¯æ—¥å¿—è¡¨)
  - [ğŸ”§ APIæ¥å£è®¾è®¡](#-apiæ¥å£è®¾è®¡)
    - [4.1 æ¥å£è§„èŒƒ](#41-æ¥å£è§„èŒƒ)
      - [4.1.1 é€šç”¨è§„èŒƒ](#411-é€šç”¨è§„èŒƒ)
      - [4.1.2 å“åº”çŠ¶æ€ç ](#412-å“åº”çŠ¶æ€ç )
    - [4.2 ä»»åŠ¡ç®¡ç†API](#42-ä»»åŠ¡ç®¡ç†api)
      - [4.2.1 åˆ›å»ºä»»åŠ¡](#421-åˆ›å»ºä»»åŠ¡)
      - [4.2.2 è·å–ä»»åŠ¡åˆ—è¡¨](#422-è·å–ä»»åŠ¡åˆ—è¡¨)
      - [4.2.3 æ›´æ–°ä»»åŠ¡](#423-æ›´æ–°ä»»åŠ¡)
      - [4.2.4 åˆ é™¤ä»»åŠ¡](#424-åˆ é™¤ä»»åŠ¡)
      - [4.2.5 æœç´¢ä»»åŠ¡](#425-æœç´¢ä»»åŠ¡)
      - [4.2.6 è·å–å­ä»»åŠ¡](#426-è·å–å­ä»»åŠ¡)
    - [4.3 ä¹ æƒ¯ç®¡ç†API](#43-ä¹ æƒ¯ç®¡ç†api)
      - [4.3.1 åˆ›å»ºä¹ æƒ¯](#431-åˆ›å»ºä¹ æƒ¯)
      - [4.3.2 ä¹ æƒ¯æ‰“å¡](#432-ä¹ æƒ¯æ‰“å¡)
      - [4.3.3 è·å–æ‰“å¡è®°å½•](#433-è·å–æ‰“å¡è®°å½•)
  - [ğŸ’¼ ä¸šåŠ¡é€»è¾‘è®¾è®¡](#-ä¸šåŠ¡é€»è¾‘è®¾è®¡)
    - [5.1 ä»»åŠ¡ä¼˜å…ˆçº§ç®—æ³•](#51-ä»»åŠ¡ä¼˜å…ˆçº§ç®—æ³•-1)
      - [5.1.1 ç®—æ³•åŸç†](#511-ç®—æ³•åŸç†)
      - [5.1.2 ä¼˜å…ˆçº§çŸ©é˜µ](#512-ä¼˜å…ˆçº§çŸ©é˜µ)
    - [5.2 ä¹ æƒ¯ç®¡ç†é€»è¾‘](#52-ä¹ æƒ¯ç®¡ç†é€»è¾‘)
      - [5.2.1 æ‰“å¡è§„åˆ™](#521-æ‰“å¡è§„åˆ™)
      - [5.2.2 ä¹ æƒ¯ç»Ÿè®¡](#522-ä¹ æƒ¯ç»Ÿè®¡)
    - [5.3 æ•°æ®éªŒè¯é€»è¾‘](#53-æ•°æ®éªŒè¯é€»è¾‘)
      - [5.3.1 ä»»åŠ¡éªŒè¯](#531-ä»»åŠ¡éªŒè¯)
      - [5.3.2 éªŒè¯è§„åˆ™](#532-éªŒè¯è§„åˆ™)
  - [ğŸ¨ å‰ç«¯è®¾è®¡](#-å‰ç«¯è®¾è®¡)
    - [6.1 ç•Œé¢è®¾è®¡](#61-ç•Œé¢è®¾è®¡)
      - [6.1.1 è®¾è®¡ç†å¿µ](#611-è®¾è®¡ç†å¿µ)
      - [6.1.2 Tkinter æ¡Œé¢ç«¯ç•Œé¢è®¾è®¡](#612-tkinter-æ¡Œé¢ç«¯ç•Œé¢è®¾è®¡)
    - [6.2 é¡µé¢ç»“æ„](#62-é¡µé¢ç»“æ„)
      - [6.2.1 å¸ƒå±€è®¾è®¡](#621-å¸ƒå±€è®¾è®¡)
      - [6.2.2 ç»„ä»¶è®¾è®¡](#622-ç»„ä»¶è®¾è®¡)
    - [6.3 äº¤äº’è®¾è®¡](#63-äº¤äº’è®¾è®¡)
      - [6.3.1 ä»»åŠ¡æ“ä½œæµç¨‹](#631-ä»»åŠ¡æ“ä½œæµç¨‹)
      - [6.3.2 ä¹ æƒ¯æ‰“å¡æµç¨‹](#632-ä¹ æƒ¯æ‰“å¡æµç¨‹)
  - [ğŸ” å®‰å…¨è®¾è®¡](#-å®‰å…¨è®¾è®¡)
    - [7.1 æ•°æ®å®‰å…¨](#71-æ•°æ®å®‰å…¨)
      - [7.1.1 è¾“å…¥éªŒè¯](#711-è¾“å…¥éªŒè¯)
      - [7.1.2 æ•°æ®å®Œæ•´æ€§](#712-æ•°æ®å®Œæ•´æ€§)
  - [ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–](#-æ€§èƒ½ä¼˜åŒ–)
    - [8.1 æ•°æ®åº“ä¼˜åŒ–](#81-æ•°æ®åº“ä¼˜åŒ–)
      - [8.1.1 ç´¢å¼•ç­–ç•¥](#811-ç´¢å¼•ç­–ç•¥)
      - [8.1.2 æŸ¥è¯¢ä¼˜åŒ–](#812-æŸ¥è¯¢ä¼˜åŒ–)
  - [ğŸ§ª æµ‹è¯•è®¾è®¡](#-æµ‹è¯•è®¾è®¡)
    - [9.1 æµ‹è¯•ç­–ç•¥](#91-æµ‹è¯•ç­–ç•¥)
      - [9.1.1 æµ‹è¯•åˆ†å±‚](#911-æµ‹è¯•åˆ†å±‚)
    - [9.2 æµ‹è¯•ç”¨ä¾‹è®¾è®¡](#92-æµ‹è¯•ç”¨ä¾‹è®¾è®¡)
      - [9.2.1 ä»»åŠ¡ç®¡ç†æµ‹è¯•](#921-ä»»åŠ¡ç®¡ç†æµ‹è¯•)
      - [9.2.2 ä¼˜å…ˆçº§ç®—æ³•æµ‹è¯•](#922-ä¼˜å…ˆçº§ç®—æ³•æµ‹è¯•)
      - [9.2.3 Apifoxå’Œswagger uiçš„åŠŸèƒ½æ€§èƒ½æµ‹è¯•](#923-apifoxå’Œswagger-uiçš„åŠŸèƒ½æ€§èƒ½æµ‹è¯•)
  - [ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ](#-éƒ¨ç½²æ–¹æ¡ˆ)
    - [10.1 å¼€å‘ç¯å¢ƒ](#101-å¼€å‘ç¯å¢ƒ)
      - [10.1.1 ç¯å¢ƒè¦æ±‚](#1011-ç¯å¢ƒè¦æ±‚)
      - [10.1.2 å¯åŠ¨æ­¥éª¤](#1012-å¯åŠ¨æ­¥éª¤)
  - [ğŸ“ è”ç³»ä¿¡æ¯](#-è”ç³»ä¿¡æ¯)

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›®ä¿¡æ¯ | è¯¦æƒ… |
|---------|------|
| **é¡¹ç›®åç§°** | é«˜æ•ˆç”Ÿæ´» - TodoList ç®¡ç†ç³»ç»Ÿ |
| **ç‰ˆæœ¬å·** | v1.0.0 |
| **æ–‡æ¡£ç‰ˆæœ¬** | v1.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2025å¹´7æœˆ4æ—¥ |
| **æŠ€æœ¯æ ˆ** | FastAPI + SQLAlchemy + (HTML + JavaScript) / Tkinter |

---

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯
æœ¬é¡¹ç›®æ—¨åœ¨å¼€å‘ä¸€ä¸ªç°ä»£åŒ–çš„ä¸ªäººæ•ˆç‡ç®¡ç†ç³»ç»Ÿï¼Œé›†æˆä»»åŠ¡ç®¡ç†ã€ä¹ æƒ¯æ‰“å¡ã€ç•ªèŒ„é’Ÿå’Œæ—¥å†åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·æé«˜å·¥ä½œæ•ˆç‡å’Œç”Ÿæ´»è´¨é‡ã€‚

### 1.2 è®¾è®¡ç›®æ ‡
- **æ˜“ç”¨æ€§**ï¼šç®€æ´ç›´è§‚çš„ç”¨æˆ·ç•Œé¢
- **é«˜æ•ˆæ€§**ï¼šæ™ºèƒ½ä¼˜å…ˆçº§ç®—æ³•ï¼Œä¼˜åŒ–ä»»åŠ¡ç®¡ç†
- **æ‰©å±•æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºåŠŸèƒ½æ‰©å±•
- **ç¨³å®šæ€§**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ•°æ®æŒä¹…åŒ–

### 1.3 æ ¸å¿ƒåŠŸèƒ½
1. **ä»»åŠ¡ç®¡ç†**ï¼šå¢åˆ æ”¹æŸ¥ã€ä¼˜å…ˆçº§è®¡ç®—ã€å±‚çº§ç»“æ„
2. **ä¹ æƒ¯æ‰“å¡**ï¼šä¹ æƒ¯ç®¡ç†ã€æ—¥å¿—è®°å½•ã€æ•°æ®ç»Ÿè®¡
3. **ç•ªèŒ„é’Ÿ**ï¼šä¸“æ³¨æ—¶é—´ç®¡ç†ã€å·¥ä½œç»Ÿè®¡
4. **æ—¥å†è§†å›¾**ï¼šä»»åŠ¡ä¸æ—¥æœŸå…³è”ã€å¯è§†åŒ–å±•ç¤º

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 æ•´ä½“æ¶æ„

```mermaid
flowchart TD
    subgraph å‰ç«¯å±•ç¤ºå±‚["ğŸ–¥ï¸ å‰ç«¯å±•ç¤ºå±‚"]
        direction LR
        WebUI["ğŸ“± Webå‰ç«¯<br/>(HTML/JS/CSS)"]
        DesktopGUI["ğŸ’» Desktop GUI<br/>(Tkinter)"]
    end
    
    subgraph åº”ç”¨æœåŠ¡å±‚["âš™ï¸ åº”ç”¨æœåŠ¡å±‚"]
        direction LR
        Router["ğŸ”€ è·¯ç”±æ§åˆ¶<br/>(routers/)"]
        Service["ğŸ§  ä¸šåŠ¡é€»è¾‘<br/>(services/)"]
    end
    
    subgraph æ•°æ®è®¿é—®å±‚["ğŸ’¾ æ•°æ®è®¿é—®å±‚"]
        direction LR
        Models["ğŸ“‹ æ•°æ®æ¨¡å‹<br/>(models.py)"]
        CRUD["ğŸ”§ CRUDæ“ä½œ<br/>(crud.py)"]
    end
    
    subgraph æ•°æ®å­˜å‚¨å±‚["ğŸ—„ï¸ æ•°æ®å­˜å‚¨å±‚"]
        Database["ğŸ“Š SQLite æ•°æ®åº“"]
    end
    
    å‰ç«¯å±•ç¤ºå±‚ -->|HTTP API æ¥å£| åº”ç”¨æœåŠ¡å±‚
    åº”ç”¨æœåŠ¡å±‚ -->|æ•°æ®è®¿é—®æ¥å£| æ•°æ®è®¿é—®å±‚
    æ•°æ®è®¿é—®å±‚ --> æ•°æ®å­˜å‚¨å±‚
    
    classDef frontendStyle fill:#e5e7eb,stroke:#374151,stroke-width:2px,color:#1f2937
    classDef serviceStyle fill:#ddd6fe,stroke:#374151,stroke-width:2px,color:#1f2937
    classDef dataStyle fill:#fef3c7,stroke:#374151,stroke-width:2px,color:#1f2937
    classDef storageStyle fill:#d1fae5,stroke:#374151,stroke-width:2px,color:#1f2937
    
    class å‰ç«¯å±•ç¤ºå±‚ frontendStyle
    class åº”ç”¨æœåŠ¡å±‚ serviceStyle
    class æ•°æ®è®¿é—®å±‚ dataStyle
    class æ•°æ®å­˜å‚¨å±‚ storageStyle
```

### 2.2 æŠ€æœ¯æ¶æ„

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|----------|------|
| **å‰ç«¯2.0** | HTML + CSS + JavaScript | å“åº”å¼Webç•Œé¢ |
| **GUI** | Python Tkinter | æ¡Œé¢åº”ç”¨ç•Œé¢ |
| **åç«¯** | FastAPI + Python 3.8+ | é«˜æ€§èƒ½å¼‚æ­¥Webæ¡†æ¶ |
| **ORM** | SQLAlchemy 2.0 | ç°ä»£åŒ–æ•°æ®åº“ORM |
| **æ•°æ®åº“** | SQLite | è½»é‡çº§åµŒå…¥å¼æ•°æ®åº“ |
| **éªŒè¯** | Pydantic v2 | æ•°æ®éªŒè¯å’Œåºåˆ—åŒ– |

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### 3.1 æ•°æ®åº“å›¾

```mermaid
erDiagram
    tasks {
        int id PK "ä»»åŠ¡ID"
        varchar name "ä»»åŠ¡åç§°"
        varchar description "ä»»åŠ¡æè¿°"
        datetime due_date "æˆªæ­¢æ—¥æœŸ"
        boolean completed "æ˜¯å¦å®Œæˆ"
        boolean importance "æ˜¯å¦é‡è¦"
        boolean urgent "æ˜¯å¦ç´§æ€¥"
        int parent_id FK "çˆ¶ä»»åŠ¡ID"
        datetime created_at "åˆ›å»ºæ—¶é—´"
        datetime updated_at "æ›´æ–°æ—¶é—´"
    }

    habits {
        int id PK "ä¹ æƒ¯ID"
        varchar name "ä¹ æƒ¯åç§°"
        varchar description "ä¹ æƒ¯æè¿°"
        boolean completed "æ˜¯å¦å®Œæˆ"
        int duration "æŒç»­æ—¶é•¿"
    }

    habit_logs {
        int id PK "æ‰“å¡æ—¥å¿—ID"
        int habit_id FK "ä¹ æƒ¯ID"
        date date "æ‰“å¡æ—¥æœŸ"
    }

    tasks ||--o{ tasks : "has_subtask"
    habits ||--o{ habit_logs : "has_log"
```

### 3.2 æ•°æ®è¡¨è¯¦ç»†è®¾è®¡

#### 3.2.1 Taskï¼ˆä»»åŠ¡è¡¨ï¼‰

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY | ä»»åŠ¡å”¯ä¸€æ ‡è¯† |
| name | VARCHAR(255) | NOT NULL, INDEX | ä»»åŠ¡åç§° |
| description | TEXT | NULLABLE | ä»»åŠ¡æè¿° |
| due_date | DATETIME | NULLABLE | æˆªæ­¢æ—¥æœŸ |
| completed | BOOLEAN | NOT NULL, DEFAULT FALSE | å®ŒæˆçŠ¶æ€ |
| importance | BOOLEAN | NOT NULL, DEFAULT FALSE | é‡è¦æ ‡è¯† |
| urgent | BOOLEAN | NOT NULL, DEFAULT FALSE | ç´§æ€¥æ ‡è¯† |
| parent_id | INTEGER | FOREIGN KEY, NULLABLE | çˆ¶ä»»åŠ¡ID |
| created_at | DATETIME | NOT NULL | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | NOT NULL | æ›´æ–°æ—¶é—´ |

**å…³ç³»è®¾è®¡**ï¼š
- è‡ªå¼•ç”¨å…³ç³»ï¼šæ”¯æŒçˆ¶å­ä»»åŠ¡ç»“æ„
- çº§è”åˆ é™¤ï¼šåˆ é™¤çˆ¶ä»»åŠ¡æ—¶ï¼Œå­ä»»åŠ¡ä¸€å¹¶åˆ é™¤

#### 3.2.2 Habitï¼ˆä¹ æƒ¯è¡¨ï¼‰

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY | ä¹ æƒ¯å”¯ä¸€æ ‡è¯† |
| name | VARCHAR(128) | NOT NULL, UNIQUE | ä¹ æƒ¯åç§° |
| description | TEXT | NULLABLE | ä¹ æƒ¯æè¿° |
| completed | BOOLEAN | NOT NULL, DEFAULT FALSE | å½“æ—¥å®ŒæˆçŠ¶æ€ |
| duration | INTEGER | NOT NULL, DEFAULT 0 | æŒç»­å¤©æ•° |

#### 3.2.3 HabitLogï¼ˆä¹ æƒ¯æ—¥å¿—è¡¨ï¼‰

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INTEGER | PRIMARY KEY | æ—¥å¿—å”¯ä¸€æ ‡è¯† |
| habit_id | INTEGER | FOREIGN KEY, NOT NULL | å…³è”ä¹ æƒ¯ID |
| date | DATE | NOT NULL, DEFAULT TODAY | æ‰“å¡æ—¥æœŸ |

**çº¦æŸè®¾è®¡**ï¼š
- å”¯ä¸€æ€§çº¦æŸï¼š`(habit_id, date)` ç¡®ä¿æ¯æ—¥åªèƒ½æ‰“å¡ä¸€æ¬¡

---

## ğŸ”§ APIæ¥å£è®¾è®¡

### 4.1 æ¥å£è§„èŒƒ

#### 4.1.1 é€šç”¨è§„èŒƒ
- **åè®®**ï¼šHTTP/HTTPS
- **æ•°æ®æ ¼å¼**ï¼šJSON
- **å­—ç¬¦ç¼–ç **ï¼šUTF-8
- **APIç‰ˆæœ¬**ï¼šv1
- **Base URL**ï¼š`http://127.0.0.1:8000`

#### 4.1.2 å“åº”çŠ¶æ€ç 
| çŠ¶æ€ç  | è¯´æ˜ |
|--------|------|
| 200 | è¯·æ±‚æˆåŠŸ |
| 201 | åˆ›å»ºæˆåŠŸ |
| 204 | åˆ é™¤æˆåŠŸ |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

### 4.2 ä»»åŠ¡ç®¡ç†API

#### 4.2.1 åˆ›å»ºä»»åŠ¡
```http
POST /tasks
Content-Type: application/json

{
    "name": "å®Œæˆé¡¹ç›®è®¾è®¡æ–‡æ¡£",
    "description": "ç¼–å†™è¯¦ç»†çš„ç³»ç»Ÿè®¾è®¡æ–‡æ¡£",
    "due_date": "2025-07-05T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": null
}
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "id": 1,
    "name": "å®Œæˆé¡¹ç›®è®¾è®¡æ–‡æ¡£",
    "description": "ç¼–å†™è¯¦ç»†çš„ç³»ç»Ÿè®¾è®¡æ–‡æ¡£",
    "due_date": "2025-07-05T18:00:00",
    "completed": false,
    "importance": true,
    "urgent": false,
    "parent_id": 0,
    "created_at": "2025-07-04T10:00:00",
    "updated_at": "2025-07-04T10:00:00"
}
```

#### 4.2.2 è·å–ä»»åŠ¡åˆ—è¡¨
```http
GET /tasks?status=pending&sort_by=priority
```

**æŸ¥è¯¢å‚æ•°**ï¼š
- `status`: `all`|`pending`|`completed`
- `sort_by`: `priority`|`id`|`ddl`

#### 4.2.3 æ›´æ–°ä»»åŠ¡
```http
PATCH /tasks/{task_id}
Content-Type: application/json

{
    "completed": true
}
```

#### 4.2.4 åˆ é™¤ä»»åŠ¡
```http
DELETE /tasks/{task_id}
```

#### 4.2.5 æœç´¢ä»»åŠ¡
```http
GET /tasks/search?q=è®¾è®¡
```

#### 4.2.6 è·å–å­ä»»åŠ¡
```http
GET /tasks/{task_id}/children
```

### 4.3 ä¹ æƒ¯ç®¡ç†API

#### 4.3.1 åˆ›å»ºä¹ æƒ¯
```http
POST /habits
Content-Type: application/json

{
    "name": "æ—©èµ·é”»ç‚¼",
    "description": "æ¯å¤©æ—©ä¸Š6ç‚¹èµ·åºŠé”»ç‚¼30åˆ†é’Ÿ",
    "duration": 21
}
```

#### 4.3.2 ä¹ æƒ¯æ‰“å¡
```http
POST /habits/{habit_id}/logs
Content-Type: application/json

{}
```

#### 4.3.3 è·å–æ‰“å¡è®°å½•
```http
GET /habits/{habit_id}/logs
```

---

## ğŸ’¼ ä¸šåŠ¡é€»è¾‘è®¾è®¡

### 5.1 ä»»åŠ¡ä¼˜å…ˆçº§ç®—æ³•

#### 5.1.1 ç®—æ³•åŸç†
ä»»åŠ¡ä¼˜å…ˆçº§åŸºäºä¸‰ä¸ªç»´åº¦è®¡ç®—ï¼šé‡è¦æ€§ã€ç´§æ€¥æ€§ã€æˆªæ­¢æ—¥æœŸ

```python
def priority_parameter(self) -> float:
    """
    è®¡ç®—ä»»åŠ¡ä¼˜å…ˆçº§ (0~1)
    """
    if self.completed:
        return 0.0

    # æƒé‡é…ç½®
    importance_weight = 0.45  # é‡è¦æ€§æƒé‡
    urgent_weight = 0.45      # ç´§æ€¥æ€§æƒé‡
    due_date_weight = 0.10    # æˆªæ­¢æ—¥æœŸæƒé‡

    # åŸºç¡€å€¼è®¡ç®—
    importance_value = 1 if self.importance else 0
    urgent_value = 1 if self.urgent else 0

    # æˆªæ­¢æ—¥æœŸå¤„ç†
    if self.due_date:
        days_to_due = (self.due_date - datetime.now()).days
        if days_to_due < 0:
            due_date_value = 1.0  # å·²è¶…æœŸ
        else:
            due_date_value = 1 / (days_to_due + 1)
    else:
        due_date_value = 0.0  # æ— æˆªæ­¢æ—¥æœŸ

    return (
        importance_value * importance_weight +
        urgent_value * urgent_weight +
        due_date_value * due_date_weight
    )
```

#### 5.1.2 ä¼˜å…ˆçº§çŸ©é˜µ

| é‡è¦æ€§ | ç´§æ€¥æ€§ | åŸºç¡€å¾—åˆ† | æè¿° |
|--------|--------|----------|------|
| æ˜¯ | æ˜¯ | 0.90 | é‡è¦ä¸”ç´§æ€¥ï¼Œä¼˜å…ˆå¤„ç† |
| æ˜¯ | å¦ | 0.45 | é‡è¦ä¸ç´§æ€¥ï¼Œè®¡åˆ’å®‰æ’ |
| å¦ | æ˜¯ | 0.45 | ä¸é‡è¦ä½†ç´§æ€¥ï¼Œå¿«é€Ÿå¤„ç† |
| å¦ | å¦ | 0.00 | ä¸é‡è¦ä¸ç´§æ€¥ï¼Œå»¶åå¤„ç† |

### 5.2 ä¹ æƒ¯ç®¡ç†é€»è¾‘

#### 5.2.1 æ‰“å¡è§„åˆ™
- æ¯ä¸ªä¹ æƒ¯æ¯å¤©åªèƒ½æ‰“å¡ä¸€æ¬¡
- ä½¿ç”¨ `(habit_id, date)` å”¯ä¸€çº¦æŸç¡®ä¿æ•°æ®å®Œæ•´æ€§
- æ‰“å¡æ—¶è‡ªåŠ¨è®°å½•å½“å‰æ—¥æœŸ

#### 5.2.2 ä¹ æƒ¯ç»Ÿè®¡
- **è¿ç»­å¤©æ•°**ï¼šè®¡ç®—è¿ç»­æ‰“å¡çš„å¤©æ•°
- **å®Œæˆç‡**ï¼šè®¡ç®—æŒ‡å®šæ—¶é—´æ®µå†…çš„å®Œæˆç‡
- **è¶‹åŠ¿åˆ†æ**ï¼šå±•ç¤ºä¹ æƒ¯å®Œæˆçš„æ—¶é—´è¶‹åŠ¿

### 5.3 æ•°æ®éªŒè¯é€»è¾‘

#### 5.3.1 ä»»åŠ¡éªŒè¯
```python
class TaskCreate(BaseModel):
    name: str = Field(..., max_length=255)
    description: str | None = None
    due_date: datetime | None = None
    importance: bool = False
    urgent: bool = False
    parent_id: int | None = None
```

#### 5.3.2 éªŒè¯è§„åˆ™
- **ä»»åŠ¡åç§°**ï¼šå¿…å¡«ï¼Œæœ€å¤§é•¿åº¦255å­—ç¬¦
- **æˆªæ­¢æ—¥æœŸ**ï¼šå¯é€‰ï¼Œå¿…é¡»æ˜¯æœ‰æ•ˆçš„æ—¥æœŸæ—¶é—´æ ¼å¼
- **çˆ¶ä»»åŠ¡**ï¼šå¯é€‰ï¼Œå¿…é¡»æ˜¯å·²å­˜åœ¨çš„ä»»åŠ¡ID

---

## ğŸ¨ å‰ç«¯è®¾è®¡

### 6.1 ç•Œé¢è®¾è®¡

#### 6.1.1 è®¾è®¡ç†å¿µ
- **ç®€æ´æ€§**ï¼šç•Œé¢ç®€æ´ï¼Œæ“ä½œç›´è§‚
- **ä¸€è‡´æ€§**ï¼šç»Ÿä¸€çš„è§†è§‰è¯­è¨€å’Œäº¤äº’æ¨¡å¼
- **å“åº”æ€§**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å¯è®¿é—®æ€§**ï¼šæ”¯æŒé”®ç›˜å¯¼èˆªå’Œå±å¹•é˜…è¯»å™¨

#### 6.1.2 Tkinter æ¡Œé¢ç«¯ç•Œé¢è®¾è®¡
- **ä¸»çª—å£**ï¼šåŒ…å«ä»»åŠ¡åˆ—è¡¨ã€ä¹ æƒ¯æ‰“å¡ã€ç•ªèŒ„é’Ÿç­‰Tabé¡µï¼Œé¡¶éƒ¨ä¸ºèœå•æ ï¼Œå·¦ä¾§ä¸ºåŠŸèƒ½å¯¼èˆªã€‚
- **ä»»åŠ¡åŒº**ï¼šä½¿ç”¨ Listbox æˆ– Treeview å±•ç¤ºä»»åŠ¡ï¼Œæ”¯æŒå‹¾é€‰å®Œæˆã€å³é”®èœå•ç¼–è¾‘/åˆ é™¤ã€‚
- **ä¹ æƒ¯åŒº**ï¼šä»¥åˆ—è¡¨æˆ–è¡¨æ ¼å½¢å¼å±•ç¤ºä¹ æƒ¯ï¼Œæ‰“å¡æŒ‰é’®ç›´æ¥æ“ä½œï¼Œæ‰“å¡åçŠ¶æ€å˜æ›´ã€‚
- **ç•ªèŒ„é’Ÿ**ï¼šç‹¬ç«‹Tabï¼Œæ˜¾ç¤ºå€’è®¡æ—¶ã€å¼€å§‹/æš‚åœ/é‡ç½®æŒ‰é’®ï¼Œå®Œæˆåå¼¹çª—æé†’ã€‚
- **äº¤äº’è¯´æ˜**ï¼šæ‰€æœ‰æ“ä½œå‡æœ‰å¼¹çª—æˆ–çŠ¶æ€æ åé¦ˆï¼Œç•Œé¢é£æ ¼ç®€æ´ï¼Œé€‚åˆWindowsé£æ ¼ã€‚

### 6.2 é¡µé¢ç»“æ„

#### 6.2.1 å¸ƒå±€è®¾è®¡
```mermaid
graph TD
    H[Header é¡µé¢å¤´éƒ¨]
    S[Sidebar ä¾§è¾¹æ ]
    M[Main Content ä¸»å†…å®¹åŒº]
    T[ä»»åŠ¡ç®¡ç†]
    H1[ä¹ æƒ¯æ‰“å¡]
    C[æ—¥å†è§†å›¾]
    Ti[ç•ªèŒ„é’Ÿ]
    Se[ç³»ç»Ÿè®¾ç½®]
    CA[Content Area å†…å®¹å±•ç¤ºåŒºåŸŸ]
    
    H --> S
    H --> M
    S --> T
    S --> H1
    S --> C
    S --> Ti
    S --> Se
    M --> CA
    
    classDef headerStyle fill:#4f46e5,stroke:#374151,stroke-width:2px,color:#ffffff
    classDef sidebarStyle fill:#6366f1,stroke:#374151,stroke-width:2px,color:#ffffff
    classDef contentStyle fill:#e5e7eb,stroke:#374151,stroke-width:2px,color:#1f2937
    classDef areaStyle fill:#ffffff,stroke:#374151,stroke-width:2px,color:#1f2937
    classDef menuStyle fill:#8b5cf6,stroke:#374151,stroke-width:1px,color:#ffffff
    
    class H headerStyle
    class S sidebarStyle
    class M contentStyle
    class CA areaStyle
    class T,H1,C,Ti,Se menuStyle
```

#### 6.2.2 ç»„ä»¶è®¾è®¡

**ä»»åŠ¡ç»„ä»¶**ï¼š
```html
<div class="task-item">
    <input type="checkbox" class="task-checkbox">
    <div class="task-content">
        <h3 class="task-title">ä»»åŠ¡åç§°</h3>
        <p class="task-description">ä»»åŠ¡æè¿°</p>
        <div class="task-meta">
            <span class="task-due-date">æˆªæ­¢æ—¥æœŸ</span>
            <span class="task-priority">ä¼˜å…ˆçº§</span>
        </div>
    </div>
    <div class="task-actions">
        <button class="edit-btn">ç¼–è¾‘</button>
        <button class="delete-btn">åˆ é™¤</button>
    </div>
</div>
```

### 6.3 äº¤äº’è®¾è®¡

#### 6.3.1 ä»»åŠ¡æ“ä½œæµç¨‹
1. **åˆ›å»ºä»»åŠ¡**ï¼šç‚¹å‡»"åˆ›å»ºä»»åŠ¡" â†’ å¡«å†™è¡¨å• â†’ æäº¤ä¿å­˜
2. **å®Œæˆä»»åŠ¡**ï¼šç‚¹å‡»å¤é€‰æ¡† â†’ ä»»åŠ¡çŠ¶æ€æ›´æ–° â†’ è§†è§‰åé¦ˆ
3. **ç¼–è¾‘ä»»åŠ¡**ï¼šç‚¹å‡»ç¼–è¾‘æŒ‰é’® â†’ å¼¹å‡ºç¼–è¾‘æ¡† â†’ ä¿®æ”¹ä¿å­˜
4. **åˆ é™¤ä»»åŠ¡**ï¼šç‚¹å‡»åˆ é™¤æŒ‰é’® â†’ ç¡®è®¤å¯¹è¯æ¡† â†’ åˆ é™¤æ“ä½œ

#### 6.3.2 ä¹ æƒ¯æ‰“å¡æµç¨‹
1. **æŸ¥çœ‹ä¹ æƒ¯**ï¼šè¿›å…¥ä¹ æƒ¯é¡µé¢ â†’ æ˜¾ç¤ºä¹ æƒ¯åˆ—è¡¨
2. **å®Œæˆæ‰“å¡**ï¼šç‚¹å‡»æ‰“å¡æŒ‰é’® â†’ è®°å½•æ‰“å¡ â†’ æ›´æ–°çŠ¶æ€

---

## ğŸ” å®‰å…¨è®¾è®¡

### 7.1 æ•°æ®å®‰å…¨

#### 7.1.1 è¾“å…¥éªŒè¯
- ä½¿ç”¨ Pydantic è¿›è¡Œæ•°æ®éªŒè¯
- SQLæ³¨å…¥é˜²æŠ¤ï¼šä½¿ç”¨ SQLAlchemy ORM

#### 7.1.2 æ•°æ®å®Œæ•´æ€§
- æ•°æ®åº“çº¦æŸï¼šå¤–é”®çº¦æŸã€å”¯ä¸€æ€§çº¦æŸ
- äº‹åŠ¡å¤„ç†ï¼šç¡®ä¿æ•°æ®ä¸€è‡´æ€§
- é”™è¯¯å¤„ç†ï¼šå¼‚å¸¸æ•è·å’Œé”™è¯¯å›æ»š


---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 8.1 æ•°æ®åº“ä¼˜åŒ–

#### 8.1.1 ç´¢å¼•ç­–ç•¥
```sql
-- ä»»åŠ¡è¡¨ç´¢å¼•
CREATE INDEX idx_task_name ON tasks(name);
CREATE INDEX idx_task_completed ON tasks(completed);
CREATE INDEX idx_task_due_date ON tasks(due_date);
CREATE INDEX idx_task_parent_id ON tasks(parent_id);

-- ä¹ æƒ¯è¡¨ç´¢å¼•
CREATE INDEX idx_habit_name ON habits(name);
CREATE INDEX idx_habitlog_date ON habit_logs(date);
```

#### 8.1.2 æŸ¥è¯¢ä¼˜åŒ–
- é¿å… N+1 æŸ¥è¯¢ï¼šä½¿ç”¨ SQLAlchemy çš„ `joinedload`
- åˆ†é¡µæŸ¥è¯¢ï¼šå¤§æ•°æ®é›†ä½¿ç”¨åˆ†é¡µ
- æŸ¥è¯¢ç¼“å­˜ï¼šé¢‘ç¹æŸ¥è¯¢ç»“æœç¼“å­˜

---

## ğŸ§ª æµ‹è¯•è®¾è®¡

### 9.1 æµ‹è¯•ç­–ç•¥

#### 9.1.1 æµ‹è¯•åˆ†å±‚

```mermaid
flowchart TD
    subgraph é›†æˆæµ‹è¯•["ğŸ”— é›†æˆæµ‹è¯•å±‚"]
        direction TB
        A1["APIæ¥å£æµ‹è¯•"]
        A2["ç«¯åˆ°ç«¯æµ‹è¯•"]
        A3["ç³»ç»Ÿé›†æˆæµ‹è¯•"]
    end
    
    subgraph å•å…ƒæµ‹è¯•["ğŸ§ª å•å…ƒæµ‹è¯•å±‚"]
        direction TB
        B1["ä¸šåŠ¡é€»è¾‘æµ‹è¯•"]
        B2["æ•°æ®æ¨¡å‹æµ‹è¯•"]
        B3["å·¥å…·å‡½æ•°æµ‹è¯•"]
    end
    
    é›†æˆæµ‹è¯• --> å•å…ƒæµ‹è¯•
    
    classDef integrationStyle fill:#4f46e5,stroke:#374151,stroke-width:2px,color:#ffffff
    classDef unitStyle fill:#10b981,stroke:#374151,stroke-width:2px,color:#ffffff
    
    class é›†æˆæµ‹è¯• integrationStyle
    class å•å…ƒæµ‹è¯• unitStyle
```


### 9.2 æµ‹è¯•ç”¨ä¾‹è®¾è®¡

#### 9.2.1 ä»»åŠ¡ç®¡ç†æµ‹è¯•
```python
def test_task_crud_and_subtree():
    """æµ‹è¯•ä»»åŠ¡çš„CRUDæ“ä½œå’Œå­ä»»åŠ¡åŠŸèƒ½"""
    # åˆ›å»ºçˆ¶ä»»åŠ¡
    response = client.post("/tasks", json={
        "name": "çˆ¶ä»»åŠ¡",
        "importance": True,
        "urgent": False
    })
    assert response.status_code == 201
    parent_id = response.json()["id"]
    
    # åˆ›å»ºå­ä»»åŠ¡
    client.post("/tasks", json={
        "name": "å­ä»»åŠ¡1",
        "parent_id": parent_id
    })
    
    # éªŒè¯å­ä»»åŠ¡æ•°é‡
    response = client.get(f"/tasks/{parent_id}/children")
    assert len(response.json()) == 1
```

#### 9.2.2 ä¼˜å…ˆçº§ç®—æ³•æµ‹è¯•
```python
def test_priority_calculation():
    """æµ‹è¯•ä»»åŠ¡ä¼˜å…ˆçº§è®¡ç®—ç®—æ³•"""
    # é‡è¦ä¸”ç´§æ€¥çš„ä»»åŠ¡
    task1 = Task(importance=True, urgent=True, completed=False)
    assert task1.priority_parameter == 0.9
    
    # å·²å®Œæˆçš„ä»»åŠ¡
    task2 = Task(completed=True)
    assert task2.priority_parameter == 0.0
```

#### 9.2.3 Apifoxå’Œswagger uiçš„åŠŸèƒ½æ€§èƒ½æµ‹è¯•
å…·ä½“è§æœ¬é¡¹ç›®æµ‹è¯•æ–‡æ¡£

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### 10.1 å¼€å‘ç¯å¢ƒ

#### 10.1.1 ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Node.js 16+ (å‰ç«¯å¼€å‘)
- SQLite 3.x

#### 10.1.2 å¯åŠ¨æ­¥éª¤
```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# 2. å®‰è£…ä¾èµ–
pip install -r requirements-dev.txt

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
uvicorn src.app.main:app --reload

# 4. å¯åŠ¨æ¡Œé¢åº”ç”¨
python run.py
```

---


## ğŸ“ è”ç³»ä¿¡æ¯

**é¡¹ç›®å›¢é˜Ÿ**ï¼šTodoList å¼€å‘å›¢é˜Ÿ  
**æŠ€æœ¯è´Ÿè´£äºº**ï¼šç‰›èŒ‚æ¶¦ æ¨æ™“èˆ’ æé”¡æµ© ä¸¥æ™¨ é¡¾æ™¨æ˜Š  
**é¡¹ç›®ç»ç†**ï¼šç‰›èŒ‚æ¶¦  
**æ–‡æ¡£ç»´æŠ¤**ï¼šä¸¥æ™¨ æé”¡æµ© ç‰›èŒ‚æ¶¦
**æœ€åæ›´æ–°**ï¼š2025å¹´7æœˆ7æ—¥

---

# Todo-List æ¥å£è®¾è®¡æ–‡æ¡£

* **æ–‡æ¡£ç‰ˆæœ¬ï¼š** V3.0
* **ç¼–å†™äººï¼š** ä¸¥æ™¨ é¡¾æ™¨æ˜Š
* **ç¼–å†™æ—¥æœŸï¼š** 2025å¹´07æœˆ04æ—¥
* **æœ€åä¿®è®¢æ—¥æœŸï¼š** 2025å¹´07æœˆ05æ—¥

**ç›®å½•**
- [**Todo-List æ¥å£è®¾è®¡æ–‡æ¡£**](#todo-list-æ¥å£è®¾è®¡æ–‡æ¡£)
  - [API æ¦‚è¿°](#api-æ¦‚è¿°)
    - [1.1 è®¾è®¡åŸåˆ™](#11-è®¾è®¡åŸåˆ™)
    - [1.2 åŸºç¡€ä¿¡æ¯](#12-åŸºç¡€ä¿¡æ¯)
  - [API æ¨¡å—åˆ’åˆ†](#api-æ¨¡å—åˆ’åˆ†)
    - [2.1 åŠŸèƒ½æ¨¡å—](#21-åŠŸèƒ½æ¨¡å—)
    - [2.2 æ•°æ®æ¨¡å‹å±‚æ¬¡](#22-æ•°æ®æ¨¡å‹å±‚æ¬¡)
  - [ä»»åŠ¡ç®¡ç† API](#ä»»åŠ¡ç®¡ç†-api)
    - [3.1 åˆ›å»ºä»»åŠ¡](#31-åˆ›å»ºä»»åŠ¡)
    - [3.2 è·å–ä»»åŠ¡åˆ—è¡¨](#32-è·å–ä»»åŠ¡åˆ—è¡¨)
    - [3.3 è·å–å•ä¸ªä»»åŠ¡](#33-è·å–å•ä¸ªä»»åŠ¡)
    - [3.4 æ›´æ–°ä»»åŠ¡](#34-æ›´æ–°ä»»åŠ¡)
    - [3.5 åˆ é™¤ä»»åŠ¡](#35-åˆ é™¤ä»»åŠ¡)
    - [3.6 æœç´¢ä»»åŠ¡](#36-æœç´¢ä»»åŠ¡)
    - [3.7 è·å–å­ä»»åŠ¡åˆ—è¡¨](#37-è·å–å­ä»»åŠ¡åˆ—è¡¨)
  - [ä¹ æƒ¯ç®¡ç† API](#ä¹ æƒ¯ç®¡ç†-api)
    - [4.1 åˆ›å»ºä¹ æƒ¯](#41-åˆ›å»ºä¹ æƒ¯)
    - [4.2 è·å–ä¹ æƒ¯åˆ—è¡¨](#42-è·å–ä¹ æƒ¯åˆ—è¡¨)
    - [4.3 ä¹ æƒ¯æ‰“å¡](#43-ä¹ æƒ¯æ‰“å¡)
    - [4.4 è·å–æ‰“å¡è®°å½•](#44-è·å–æ‰“å¡è®°å½•)
    - [4.5 è·å–è¿ç»­æ‰“å¡å¤©æ•°](#45-è·å–è¿ç»­æ‰“å¡å¤©æ•°)
    - [4.6 åˆ é™¤ä¹ æƒ¯](#46-åˆ é™¤ä¹ æƒ¯)
  - [ç³»ç»Ÿç®¡ç† API](#ç³»ç»Ÿç®¡ç†-api)
    - [5.1 å¥åº·æ£€æŸ¥](#51-å¥åº·æ£€æŸ¥)
    - [5.2 APIä¿¡æ¯](#52-apiä¿¡æ¯)
  - [æ•°æ®æ¨¡å‹å®šä¹‰](#æ•°æ®æ¨¡å‹å®šä¹‰)
    - [6.1 ä»»åŠ¡æ¨¡å‹](#61-ä»»åŠ¡æ¨¡å‹)
      - [TaskBaseï¼ˆåŸºç¡€ä»»åŠ¡æ¨¡å‹ï¼‰](#taskbaseåŸºç¡€ä»»åŠ¡æ¨¡å‹)
      - [TaskCreateï¼ˆä»»åŠ¡åˆ›å»ºæ¨¡å‹ï¼‰](#taskcreateä»»åŠ¡åˆ›å»ºæ¨¡å‹)
      - [TaskUpdateï¼ˆä»»åŠ¡æ›´æ–°æ¨¡å‹ï¼‰](#taskupdateä»»åŠ¡æ›´æ–°æ¨¡å‹)
      - [TaskOutï¼ˆä»»åŠ¡è¾“å‡ºæ¨¡å‹ï¼‰](#taskoutä»»åŠ¡è¾“å‡ºæ¨¡å‹)
    - [6.2 ä¹ æƒ¯æ¨¡å‹](#62-ä¹ æƒ¯æ¨¡å‹)
      - [HabitBaseï¼ˆåŸºç¡€ä¹ æƒ¯æ¨¡å‹ï¼‰](#habitbaseåŸºç¡€ä¹ æƒ¯æ¨¡å‹)
      - [HabitOutï¼ˆä¹ æƒ¯è¾“å‡ºæ¨¡å‹ï¼‰](#habitoutä¹ æƒ¯è¾“å‡ºæ¨¡å‹)
      - [HabitLogOutï¼ˆæ‰“å¡æ—¥å¿—è¾“å‡ºæ¨¡å‹ï¼‰](#habitlogoutæ‰“å¡æ—¥å¿—è¾“å‡ºæ¨¡å‹)
  - [å®‰å…¨ä¸è®¤è¯](#å®‰å…¨ä¸è®¤è¯)
    - [7.1 å½“å‰å®‰å…¨æªæ–½](#71-å½“å‰å®‰å…¨æªæ–½)
  - [æµ‹è¯•ä¸éªŒè¯](#æµ‹è¯•ä¸éªŒè¯)
    - [8.1 APIæµ‹è¯•ç”¨ä¾‹](#81-apiæµ‹è¯•ç”¨ä¾‹)
      - [ä»»åŠ¡ç®¡ç†æµ‹è¯•](#ä»»åŠ¡ç®¡ç†æµ‹è¯•)
      - [ä¹ æƒ¯ç®¡ç†æµ‹è¯•](#ä¹ æƒ¯ç®¡ç†æµ‹è¯•)
    - [8.2 é”™è¯¯åœºæ™¯æµ‹è¯•](#82-é”™è¯¯åœºæ™¯æµ‹è¯•)
  - [APIä½¿ç”¨ç¤ºä¾‹](#apiä½¿ç”¨ç¤ºä¾‹)
    - [9.1 å®Œæ•´å·¥ä½œæµç¨‹ç¤ºä¾‹](#91-å®Œæ•´å·¥ä½œæµç¨‹ç¤ºä¾‹)
      - [Python å®¢æˆ·ç«¯ç¤ºä¾‹](#python-å®¢æˆ·ç«¯ç¤ºä¾‹)
  - [ç›¸å…³èµ„æº](#ç›¸å…³èµ„æº)
    - [10.1 å¼€å‘å·¥å…·](#101-å¼€å‘å·¥å…·)
    - [10.2 å‚è€ƒæ–‡æ¡£](#102-å‚è€ƒæ–‡æ¡£)
  - [é™„å½•](#é™„å½•)
    - [A.1 HTTPçŠ¶æ€ç è¯´æ˜](#a1-httpçŠ¶æ€ç è¯´æ˜)
    - [A.2 é”™è¯¯å“åº”æ ¼å¼](#a2-é”™è¯¯å“åº”æ ¼å¼)
    - [A.3 æ—¥æœŸæ—¶é—´æ ¼å¼](#a3-æ—¥æœŸæ—¶é—´æ ¼å¼)
  - [è”ç³»ä¿¡æ¯](#è”ç³»ä¿¡æ¯)



##  API æ¦‚è¿°

### 1.1 è®¾è®¡åŸåˆ™

æœ¬é¡¹ç›®APIéµå¾ªRESTfulè®¾è®¡è§„èŒƒï¼Œé‡‡ç”¨FastAPIæ¡†æ¶å¼€å‘ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **è‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆ**ï¼šåŸºäºOpenAPI 3.0è§„èŒƒè‡ªåŠ¨ç”Ÿæˆäº¤äº’å¼APIæ–‡æ¡£
- **æ•°æ®éªŒè¯**ï¼šä½¿ç”¨Pydanticè¿›è¡Œè¯·æ±‚/å“åº”æ•°æ®éªŒè¯
- **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ç±»å‹æ³¨è§£å’ŒéªŒè¯
- **ä¸­æ–‡åŒ–æ”¯æŒ**ï¼šæ¥å£æè¿°å’Œé”™è¯¯ä¿¡æ¯ä¸­æ–‡åŒ–
- **æ ‡å‡†åŒ–å“åº”**ï¼šç»Ÿä¸€çš„HTTPçŠ¶æ€ç å’Œé”™è¯¯å¤„ç†

### 1.2 åŸºç¡€ä¿¡æ¯

**æœåŠ¡åœ°å€**ï¼š
- å¼€å‘ç¯å¢ƒï¼š`http://127.0.0.1:8000`

**APIæ–‡æ¡£åœ°å€**ï¼š
- Swagger UIï¼š`http://127.0.0.1:8000/docs`
- OpenAPI Schemaï¼š`http://127.0.0.1:8000/openapi.json`

**æ”¯æŒæ ¼å¼**ï¼š
- è¯·æ±‚æ ¼å¼ï¼š`application/json`
- å“åº”æ ¼å¼ï¼š`application/json`
- å­—ç¬¦ç¼–ç ï¼š`UTF-8`

---

##  API æ¨¡å—åˆ’åˆ†

### 2.1 åŠŸèƒ½æ¨¡å—

| æ¨¡å— | å‰ç¼€ | æè¿° | ä¸»è¦åŠŸèƒ½ |
|------|------|------|----------|
| **ä»»åŠ¡ç®¡ç†** | `/tasks` | å¾…åŠäº‹é¡¹ç®¡ç† | å¢åˆ æ”¹æŸ¥ã€æœç´¢ã€æ’åº |
| **ä¹ æƒ¯ç®¡ç†** | `/habits` | ä¹ æƒ¯å…»æˆç®¡ç† | ä¹ æƒ¯CRUDã€æ‰“å¡è®°å½• |
| **ç»Ÿè®¡åˆ†æ** | `/stats` | æ•°æ®ç»Ÿè®¡åˆ†æ | æ•ˆç‡ç»Ÿè®¡ã€è¶‹åŠ¿åˆ†æ |
| **ç³»ç»Ÿç®¡ç†** | `/system` | ç³»ç»ŸåŠŸèƒ½ | å¥åº·æ£€æŸ¥ã€é…ç½®ç®¡ç† |

### 2.2 æ•°æ®æ¨¡å‹å±‚æ¬¡

```
BaseModel (PydanticåŸºç±»)
â”œâ”€â”€ TaskBase (ä»»åŠ¡åŸºç¡€æ¨¡å‹)
â”‚   â”œâ”€â”€ TaskCreate (ä»»åŠ¡åˆ›å»º)
â”‚   â”œâ”€â”€ TaskUpdate (ä»»åŠ¡æ›´æ–°)
â”‚   â””â”€â”€ TaskOut (ä»»åŠ¡è¾“å‡º)
â”œâ”€â”€ HabitBase (ä¹ æƒ¯åŸºç¡€æ¨¡å‹)
â”‚   â”œâ”€â”€ HabitCreate (ä¹ æƒ¯åˆ›å»º)
â”‚   â”œâ”€â”€ HabitUpdate (ä¹ æƒ¯æ›´æ–°)
â”‚   â””â”€â”€ HabitOut (ä¹ æƒ¯è¾“å‡º)
â””â”€â”€ HabitLogCreate/Out (æ‰“å¡æ—¥å¿—)
```

---

##  ä»»åŠ¡ç®¡ç† API

### 3.1 åˆ›å»ºä»»åŠ¡

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`POST`
- **è·¯å¾„**ï¼š`/tasks`
- **æè¿°**ï¼šåˆ›å»ºæ–°çš„å¾…åŠä»»åŠ¡

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "name": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
    "description": "ç¼–å†™è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": null
}
```

**å‚æ•°è¯´æ˜**ï¼š

| å­—æ®µ | ç±»å‹ | æ˜¯å¦å¿…å¡« |   æè¿°   |    ç¤ºä¾‹    |
|------|------|----------|----------|------------|
| **name** | string | æ˜¯ | ä»»åŠ¡åç§°ï¼Œæœ€å¤§255å­—ç¬¦ | "å®Œæˆé¡¹ç›®æ–‡æ¡£" |
| **description** | string | å¦ | ä»»åŠ¡æè¿° | "ç¼–å†™è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£" |
| **due_date** | datetime | å¦ | æˆªæ­¢æ—¥æœŸï¼ŒISO 8601æ ¼å¼ | "2025-07-10T18:00:00" |
| **importance** | boolean | å¦ | æ˜¯å¦é‡è¦ï¼Œé»˜è®¤false | true |
| **urgent** | boolean | å¦ | æ˜¯å¦ç´§æ€¥ï¼Œé»˜è®¤false | false |
| **parent_id** | integer | å¦ | çˆ¶ä»»åŠ¡IDï¼Œç”¨äºåˆ›å»ºå­ä»»åŠ¡ | null |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "id": 1,
    "name": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
    "description": "ç¼–å†™è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": 0,
    "completed": false,
    "created_at": "2025-07-05T10:00:00.123456",
    "updated_at": "2025-07-05T10:00:00.123456"
}
```

**çŠ¶æ€ç **ï¼š
- `201`ï¼šåˆ›å»ºæˆåŠŸ
- `400`ï¼šè¯·æ±‚å‚æ•°é”™è¯¯
- `422`ï¼šæ•°æ®éªŒè¯å¤±è´¥

### 3.2 è·å–ä»»åŠ¡åˆ—è¡¨

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/tasks`
- **æè¿°**ï¼šè·å–ä»»åŠ¡åˆ—è¡¨ï¼Œæ”¯æŒè¿‡æ»¤å’Œæ’åº

**æŸ¥è¯¢å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° | å¯é€‰å€¼ |
|------|------|------|------|--------|
| status | string | å¦ | ä»»åŠ¡çŠ¶æ€è¿‡æ»¤ | `all`, `pending`, `completed` |
| sort_by | string | å¦ | æ’åºæ–¹å¼ï¼Œé»˜è®¤priority | `priority`, `id`, `ddl` |

**è¯·æ±‚ç¤ºä¾‹**ï¼š

```http
GET /tasks?status=pending&sort_by=priority
```

**å“åº”ç¤ºä¾‹**ï¼š

```json
[
    {
        "id": 1,
        "name": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
        "description": "ç¼–å†™è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£",
        "due_date": "2025-07-10T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 0,
        "completed": false,
        "created_at": "2025-07-05T10:00:00.123456",
        "updated_at": "2025-07-05T10:00:00.123456"
    },
    {
        "id": 2,
        "name": "ä»£ç å®¡æŸ¥",
        "description": "å®¡æŸ¥ä»»åŠ¡ç®¡ç†æ¨¡å—ä»£ç ",
        "due_date": "2025-07-08T17:00:00",
        "importance": false,
        "urgent": true,
        "parent_id": 0,
        "completed": false,
        "created_at": "2025-07-05T11:00:00.123456",
        "updated_at": "2025-07-05T11:00:00.123456"
    }
]
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šè·å–æˆåŠŸ
- `400`ï¼šæŸ¥è¯¢å‚æ•°é”™è¯¯

### 3.3 è·å–å•ä¸ªä»»åŠ¡

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/tasks/{task_id}`
- **æè¿°**ï¼šæ ¹æ®IDè·å–æŒ‡å®šä»»åŠ¡è¯¦æƒ…

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| task_id | integer | æ˜¯ | ä»»åŠ¡ID |

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
GET /tasks/1
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "id": 1,
    "name": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
    "description": "ç¼–å†™è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": 0,
    "completed": false,
    "created_at": "2025-07-05T10:00:00.123456",
    "updated_at": "2025-07-05T10:00:00.123456"
}
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šè·å–æˆåŠŸ
- `404`ï¼šä»»åŠ¡ä¸å­˜åœ¨

### 3.4 æ›´æ–°ä»»åŠ¡

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`PATCH`
- **è·¯å¾„**ï¼š`/tasks/{task_id}`
- **æè¿°**ï¼šæ›´æ–°æŒ‡å®šä»»åŠ¡çš„éƒ¨åˆ†ä¿¡æ¯

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| task_id | integer | æ˜¯ | ä»»åŠ¡ID |

**è¯·æ±‚å‚æ•°**ï¼ˆéƒ¨åˆ†æ›´æ–°ï¼‰ï¼š
```json
{
    "completed": true,
    "description": "APIæ¥å£æ–‡æ¡£å·²å®Œæˆç¼–å†™"
}
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "id": 1,
    "name": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
    "description": "APIæ¥å£æ–‡æ¡£å·²å®Œæˆç¼–å†™",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": 0,
    "completed": true,
    "created_at": "2025-07-05T10:00:00.123456",
    "updated_at": "2025-07-05T14:30:00.789012"
}
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šæ›´æ–°æˆåŠŸ
- `400`ï¼šè¯·æ±‚å‚æ•°é”™è¯¯
- `404`ï¼šä»»åŠ¡ä¸å­˜åœ¨
- `422`ï¼šæ•°æ®éªŒè¯å¤±è´¥

### 3.5 åˆ é™¤ä»»åŠ¡

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`DELETE`
- **è·¯å¾„**ï¼š`/tasks/{task_id}`
- **æè¿°**ï¼šåˆ é™¤æŒ‡å®šä»»åŠ¡ï¼ˆåŒ…æ‹¬å­ä»»åŠ¡ï¼‰

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| task_id | integer | æ˜¯ | ä»»åŠ¡ID |

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
DELETE /tasks/1
```

**å“åº”**ï¼šæ— å†…å®¹ï¼ˆ204çŠ¶æ€ç ï¼‰

**çŠ¶æ€ç **ï¼š
- `204`ï¼šåˆ é™¤æˆåŠŸ
- `404`ï¼šä»»åŠ¡ä¸å­˜åœ¨

### 3.6 æœç´¢ä»»åŠ¡

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/tasks/search`
- **æè¿°**ï¼šæ ¹æ®å…³é”®è¯æœç´¢ä»»åŠ¡

**æŸ¥è¯¢å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| q | string | æ˜¯ | æœç´¢å…³é”®è¯ï¼Œæœ€å°‘1ä¸ªå­—ç¬¦ |

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
GET /tasks/search?q=æ–‡æ¡£
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
[
    {
        "id": 1,
        "name": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
        "description": "ç¼–å†™è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£",
        "due_date": "2025-07-10T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 0,
        "completed": false,
        "created_at": "2025-07-05T10:00:00.123456",
        "updated_at": "2025-07-05T10:00:00.123456"
    }
]
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šæœç´¢æˆåŠŸ
- `400`ï¼šæŸ¥è¯¢å‚æ•°é”™è¯¯

### 3.7 è·å–å­ä»»åŠ¡åˆ—è¡¨

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/tasks/{task_id}/children`
- **æè¿°**ï¼šè·å–æŒ‡å®šä»»åŠ¡çš„ç›´æ¥å­ä»»åŠ¡åˆ—è¡¨

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| task_id | integer | æ˜¯ | çˆ¶ä»»åŠ¡ID |

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
GET /tasks/1/children
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
[
    {
        "id": 3,
        "name": "ç¼–å†™éœ€æ±‚åˆ†æ",
        "description": "åˆ†æç”¨æˆ·éœ€æ±‚å’Œç³»ç»Ÿéœ€æ±‚",
        "due_date": "2025-07-07T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 1,
        "completed": false,
        "created_at": "2025-07-05T12:00:00.123456",
        "updated_at": "2025-07-05T12:00:00.123456"
    },
    {
        "id": 4,
        "name": "ç¼–å†™æ¥å£è®¾è®¡",
        "description": "è®¾è®¡APIæ¥å£è§„èŒƒ",
        "due_date": "2025-07-08T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 1,
        "completed": false,
        "created_at": "2025-07-05T12:30:00.123456",
        "updated_at": "2025-07-05T12:30:00.123456"
    }
]
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šè·å–æˆåŠŸ
- `404`ï¼šçˆ¶ä»»åŠ¡ä¸å­˜åœ¨

---

##  ä¹ æƒ¯ç®¡ç† API

### 4.1 åˆ›å»ºä¹ æƒ¯

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`POST`
- **è·¯å¾„**ï¼š`/habits`
- **æè¿°**ï¼šåˆ›å»ºæ–°çš„ä¹ æƒ¯

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "name": "æ—©èµ·é”»ç‚¼",
    "description": "æ¯å¤©æ—©ä¸Š6ç‚¹èµ·åºŠé”»ç‚¼30åˆ†é’Ÿ",
    "duration": 21
}
```

**å‚æ•°è¯´æ˜**ï¼š

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° | ç¤ºä¾‹ |
|------|------|------|------|------|
| name | string | æ˜¯ | ä¹ æƒ¯åç§°ï¼Œæœ€å¤§128å­—ç¬¦ | "æ—©èµ·é”»ç‚¼" |
| description | string | å¦ | ä¹ æƒ¯æè¿° | "æ¯å¤©æ—©ä¸Š6ç‚¹èµ·åºŠé”»ç‚¼30åˆ†é’Ÿ" |
| duration | integer | å¦ | ç›®æ ‡æŒç»­å¤©æ•°ï¼Œé»˜è®¤0 | 21 |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "id": 1,
    "name": "æ—©èµ·é”»ç‚¼",
    "description": "æ¯å¤©æ—©ä¸Š6ç‚¹èµ·åºŠé”»ç‚¼30åˆ†é’Ÿ",
    "duration": 21,
    "logs": []
}
```

**çŠ¶æ€ç **ï¼š
- `201`ï¼šåˆ›å»ºæˆåŠŸ
- `400`ï¼šè¯·æ±‚å‚æ•°é”™è¯¯
- `422`ï¼šæ•°æ®éªŒè¯å¤±è´¥

### 4.2 è·å–ä¹ æƒ¯åˆ—è¡¨

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/habits`
- **æè¿°**ï¼šè·å–æ‰€æœ‰ä¹ æƒ¯åˆ—è¡¨

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
GET /habits
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
[
    {
        "id": 1,
        "name": "æ—©èµ·é”»ç‚¼",
        "description": "æ¯å¤©æ—©ä¸Š6ç‚¹èµ·åºŠé”»ç‚¼30åˆ†é’Ÿ",
        "duration": 21,
        "logs": [
            {
                "id": 1,
                "habit_id": 1,
                "date": "2025-07-05T00:00:00"
            },
            {
                "id": 2,
                "habit_id": 1,
                "date": "2025-07-04T00:00:00"
            }
        ]
    },
    {
        "id": 2,
        "name": "é˜…è¯»",
        "description": "æ¯å¤©é˜…è¯»30åˆ†é’Ÿ",
        "duration": 30,
        "logs": []
    }
]
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šè·å–æˆåŠŸ

### 4.3 ä¹ æƒ¯æ‰“å¡

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`POST`
- **è·¯å¾„**ï¼š`/habits/{habit_id}/logs`
- **æè¿°**ï¼šä¸ºæŒ‡å®šä¹ æƒ¯è®°å½•æ‰“å¡

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| habit_id | integer | æ˜¯ | ä¹ æƒ¯ID |

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
    "date": "2025-07-05T00:00:00"
}
```


**å‚æ•°è¯´æ˜**ï¼š

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| date | datetime | å¦ | æ‰“å¡æ—¥æœŸï¼Œé»˜è®¤å½“å¤© |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "id": 3,
    "habit_id": 1,
    "date": "2025-07-05T00:00:00"
}
```

**çŠ¶æ€ç **ï¼š
- `201`ï¼šæ‰“å¡æˆåŠŸ
- `400`ï¼šè¯·æ±‚å‚æ•°é”™è¯¯
- `404`ï¼šä¹ æƒ¯ä¸å­˜åœ¨
- `409`ï¼šä»Šæ—¥å·²æ‰“å¡

### 4.4 è·å–æ‰“å¡è®°å½•

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/habits/{habit_id}/logs`
- **æè¿°**ï¼šè·å–æŒ‡å®šä¹ æƒ¯çš„æ‰€æœ‰æ‰“å¡è®°å½•

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| habit_id | integer | æ˜¯ | ä¹ æƒ¯ID |

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
GET /habits/1/logs
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
[
    {
        "id": 3,
        "habit_id": 1,
        "date": "2025-07-05T00:00:00"
    },
    {
        "id": 2,
        "habit_id": 1,
        "date": "2025-07-04T00:00:00"
    },
    {
        "id": 1,
        "habit_id": 1,
        "date": "2025-07-03T00:00:00"
    }
]
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šè·å–æˆåŠŸ
- `404`ï¼šä¹ æƒ¯ä¸å­˜åœ¨

### 4.5 è·å–è¿ç»­æ‰“å¡å¤©æ•°

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/habits/{habit_id}/streak`
- **æè¿°**ï¼šè·å–æŒ‡å®šä¹ æƒ¯çš„å½“å‰è¿ç»­æ‰“å¡å¤©æ•°

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| habit_id | integer | æ˜¯ | ä¹ æƒ¯ID |

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
GET /habits/1/streak
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
7
```

**çŠ¶æ€ç **ï¼š
- `200`ï¼šè·å–æˆåŠŸ
- `404`ï¼šä¹ æƒ¯ä¸å­˜åœ¨

### 4.6 åˆ é™¤ä¹ æƒ¯

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`DELETE`
- **è·¯å¾„**ï¼š`/habits/{habit_id}`
- **æè¿°**ï¼šåˆ é™¤æŒ‡å®šä¹ æƒ¯åŠå…¶æ‰€æœ‰æ‰“å¡è®°å½•

**è·¯å¾„å‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| habit_id | integer | æ˜¯ | ä¹ æƒ¯ID |

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
DELETE /habits/1
```

**å“åº”**ï¼šæ— å†…å®¹ï¼ˆ204çŠ¶æ€ç ï¼‰

**çŠ¶æ€ç **ï¼š
- `204`ï¼šåˆ é™¤æˆåŠŸ
- `404`ï¼šä¹ æƒ¯ä¸å­˜åœ¨

---

##  ç³»ç»Ÿç®¡ç† API

### 5.1 å¥åº·æ£€æŸ¥

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/health`
- **æè¿°**ï¼šæ£€æŸ¥APIæœåŠ¡çŠ¶æ€

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```http
GET /health
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "status": "healthy",
    "timestamp": "2025-07-05T10:00:00.123456",
    "version": "1.0.0",
    "database": "connected"
}
```

### 5.2 APIä¿¡æ¯

**æ¥å£ä¿¡æ¯**ï¼š
- **æ–¹æ³•**ï¼š`GET`
- **è·¯å¾„**ï¼š`/info`
- **æè¿°**ï¼šè·å–APIåŸºæœ¬ä¿¡æ¯

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "name": "TodoList API",
    "version": "1.0.0",
    "description": "é«˜æ•ˆç”Ÿæ´» - TodoList ç®¡ç†ç³»ç»ŸAPI",
    "documentation": "http://127.0.0.1:8000/docs",
    "contact": {
        "name": "TodoList Team",
        "email": "team@todolist.com"
    }
}
```

---

##  æ•°æ®æ¨¡å‹å®šä¹‰

### 6.1 ä»»åŠ¡æ¨¡å‹

#### TaskBaseï¼ˆåŸºç¡€ä»»åŠ¡æ¨¡å‹ï¼‰
```json
{
    "name": "string (max 255)",
    "description": "string (nullable)",
    "due_date": "datetime (nullable)",
    "importance": "boolean (default: false)",
    "urgent": "boolean (default: false)",
    "parent_id": "integer (nullable)"
}
```

#### TaskCreateï¼ˆä»»åŠ¡åˆ›å»ºæ¨¡å‹ï¼‰
ç»§æ‰¿TaskBaseï¼Œç”¨äºåˆ›å»ºä»»åŠ¡æ—¶çš„æ•°æ®éªŒè¯ã€‚

#### TaskUpdateï¼ˆä»»åŠ¡æ›´æ–°æ¨¡å‹ï¼‰
```json
{
    "name": "string (optional, max 255)",
    "description": "string (optional)",
    "due_date": "datetime (optional)",
    "completed": "boolean (optional)",
    "importance": "boolean (optional)",
    "urgent": "boolean (optional)",
    "parent_id": "integer (optional)"
}
```

#### TaskOutï¼ˆä»»åŠ¡è¾“å‡ºæ¨¡å‹ï¼‰
```json
{
    "id": "integer",
    "name": "string",
    "description": "string (nullable)",
    "due_date": "datetime (nullable)",
    "importance": "boolean",
    "urgent": "boolean",
    "parent_id": "integer (0è¡¨ç¤ºnull)",
    "completed": "boolean",
    "created_at": "datetime",
    "updated_at": "datetime"
}
```

### 6.2 ä¹ æƒ¯æ¨¡å‹

#### HabitBaseï¼ˆåŸºç¡€ä¹ æƒ¯æ¨¡å‹ï¼‰
```json
{
    "name": "string (max 128)",
    "description": "string (nullable)",
    "duration": "integer (default: 0)"
}
```

#### HabitOutï¼ˆä¹ æƒ¯è¾“å‡ºæ¨¡å‹ï¼‰
```json
{
    "id": "integer",
    "name": "string",
    "description": "string (nullable)",
    "duration": "integer",
    "logs": "array of HabitLogOut"
}
```

#### HabitLogOutï¼ˆæ‰“å¡æ—¥å¿—è¾“å‡ºæ¨¡å‹ï¼‰
```json
{
    "id": "integer",
    "habit_id": "integer",
    "date": "datetime"
}
```

---

## å®‰å…¨ä¸è®¤è¯

### 7.1 å½“å‰å®‰å…¨æªæ–½

**æ•°æ®éªŒè¯**ï¼š
- Pydanticæ•°æ®æ¨¡å‹éªŒè¯
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆSQLAlchemy ORMï¼‰

**CORSé…ç½®**ï¼š
```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_methods=["*"],
    allow_headers=["*"],
)
```

---

## æµ‹è¯•ä¸éªŒè¯

### 8.1 APIæµ‹è¯•ç”¨ä¾‹

#### ä»»åŠ¡ç®¡ç†æµ‹è¯•
```python
def test_create_task():
    """æµ‹è¯•åˆ›å»ºä»»åŠ¡"""
    response = client.post("/tasks", json={
        "name": "æµ‹è¯•ä»»åŠ¡",
        "importance": True,
        "urgent": False
    })
    assert response.status_code == 201
    assert response.json()["name"] == "æµ‹è¯•ä»»åŠ¡"

def test_get_tasks():
    """æµ‹è¯•è·å–ä»»åŠ¡åˆ—è¡¨"""
    response = client.get("/tasks?status=pending")
    assert response.status_code == 200
    assert isinstance(response.json(), list)

def test_search_tasks():
    """æµ‹è¯•æœç´¢ä»»åŠ¡"""
    response = client.get("/tasks/search?q=æµ‹è¯•")
    assert response.status_code == 200
```

#### ä¹ æƒ¯ç®¡ç†æµ‹è¯•
```python
def test_create_habit():
    """æµ‹è¯•åˆ›å»ºä¹ æƒ¯"""
    response = client.post("/habits", json={
        "name": "æµ‹è¯•ä¹ æƒ¯",
        "duration": 21
    })
    assert response.status_code == 201

def test_habit_log():
    """æµ‹è¯•ä¹ æƒ¯æ‰“å¡"""
    habit_id = 1
    response = client.post(f"/habits/{habit_id}/logs", json={})
    assert response.status_code == 201
```

### 8.2 é”™è¯¯åœºæ™¯æµ‹è¯•

```python
def test_task_not_found():
    """æµ‹è¯•ä»»åŠ¡ä¸å­˜åœ¨çš„æƒ…å†µ"""
    response = client.get("/tasks/999")
    assert response.status_code == 404

def test_duplicate_habit_log():
    """æµ‹è¯•é‡å¤æ‰“å¡"""
    habit_id = 1
    # ç¬¬ä¸€æ¬¡æ‰“å¡
    client.post(f"/habits/{habit_id}/logs", json={})
    # ç¬¬äºŒæ¬¡æ‰“å¡åº”è¯¥å¤±è´¥
    response = client.post(f"/habits/{habit_id}/logs", json={})
    assert response.status_code == 409
```

---

## APIä½¿ç”¨ç¤ºä¾‹

### 9.1 å®Œæ•´å·¥ä½œæµç¨‹ç¤ºä¾‹

#### Python å®¢æˆ·ç«¯ç¤ºä¾‹
```python
import requests
import json
from datetime import datetime

API_BASE = 'http://127.0.0.1:8000'

class TodoListAPI:
    def __init__(self, base_url=API_BASE):
        self.base_url = base_url
    
    def create_task(self, name, description=None, due_date=None, importance=False, urgent=False):
        """åˆ›å»ºä»»åŠ¡"""
        data = {
            'name': name,
            'description': description,
            'due_date': due_date,
            'importance': importance,
            'urgent': urgent
        }
        response = requests.post(f'{self.base_url}/tasks', json=data)
        response.raise_for_status()
        return response.json()
    
    def get_tasks(self, status=None, sort_by='priority'):
        """è·å–ä»»åŠ¡åˆ—è¡¨"""
        params = {}
        if status:
            params['status'] = status
        params['sort_by'] = sort_by
        
        response = requests.get(f'{self.base_url}/tasks', params=params)
        response.raise_for_status()
        return response.json()
    
    def complete_task(self, task_id):
        """å®Œæˆä»»åŠ¡"""
        data = {'completed': True}
        response = requests.patch(f'{self.base_url}/tasks/{task_id}', json=data)
        response.raise_for_status()
        return response.json()
    
    def create_habit(self, name, description=None, duration=0):
        """åˆ›å»ºä¹ æƒ¯"""
        data = {
            'name': name,
            'description': description,
            'duration': duration
        }
        response = requests.post(f'{self.base_url}/habits', json=data)
        response.raise_for_status()
        return response.json()
    
    def log_habit(self, habit_id):
        """ä¹ æƒ¯æ‰“å¡"""
        data = {}
        response = requests.post(f'{self.base_url}/habits/{habit_id}/logs', json=data)
        if response.status_code == 409:
            print("ä»Šæ—¥å·²æ‰“å¡")
            return None
        response.raise_for_status()
        return response.json()

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == '__main__':
    api = TodoListAPI()
    
    # åˆ›å»ºä»»åŠ¡
    task = api.create_task(
        name="å­¦ä¹ APIè®¾è®¡",
        description="æ·±å…¥å­¦ä¹ RESTful APIè®¾è®¡åŸåˆ™",
        importance=True
    )
    print(f"åˆ›å»ºä»»åŠ¡: {task['name']}")
    
    # è·å–ä»»åŠ¡åˆ—è¡¨
    tasks = api.get_tasks(status='pending')
    print(f"å¾…åŠä»»åŠ¡æ•°é‡: {len(tasks)}")
    
    # åˆ›å»ºä¹ æƒ¯
    habit = api.create_habit(
        name="é˜…è¯»æŠ€æœ¯æ–‡æ¡£",
        description="æ¯å¤©é˜…è¯»30åˆ†é’ŸæŠ€æœ¯æ–‡æ¡£",
        duration=21
    )
    print(f"åˆ›å»ºä¹ æƒ¯: {habit['name']}")
    
    # ä¹ æƒ¯æ‰“å¡
    log = api.log_habit(habit['id'])
    if log:
        print(f"æ‰“å¡æˆåŠŸ: {log['date']}")
```

---

## ç›¸å…³èµ„æº

### 10.1 å¼€å‘å·¥å…·

**APIæ–‡æ¡£å·¥å…·**ï¼š
- Swagger UIï¼š`http://127.0.0.1:8000/docs`

**æµ‹è¯•å·¥å…·**ï¼š
- FastAPI TestClient
- Pytest

### 10.2 å‚è€ƒæ–‡æ¡£

- [FastAPIå®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [Pydanticæ–‡æ¡£](https://docs.pydantic.dev/)
- [SQLAlchemyæ–‡æ¡£](https://docs.sqlalchemy.org/)
- [OpenAPIè§„èŒƒ](https://swagger.io/specification/)

---

## é™„å½•

### A.1 HTTPçŠ¶æ€ç è¯´æ˜

| çŠ¶æ€ç  | æè¿° | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| 200 | OK | GET, PATCHè¯·æ±‚æˆåŠŸ |
| 201 | Created | POSTè¯·æ±‚åˆ›å»ºæˆåŠŸ |
| 204 | No Content | DELETEè¯·æ±‚æˆåŠŸ |
| 400 | Bad Request | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 404 | Not Found | èµ„æºä¸å­˜åœ¨ |
| 409 | Conflict | èµ„æºå†²çªï¼ˆå¦‚é‡å¤æ‰“å¡ï¼‰ |
| 422 | Unprocessable Entity | æ•°æ®éªŒè¯å¤±è´¥ |
| 500 | Internal Server Error | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

### A.2 é”™è¯¯å“åº”æ ¼å¼

```json
{
    "detail": "é”™è¯¯æè¿°ä¿¡æ¯"
}
```

### A.3 æ—¥æœŸæ—¶é—´æ ¼å¼

**æ ‡å‡†æ ¼å¼**ï¼šISO 8601
- å®Œæ•´æ ¼å¼ï¼š`2025-07-05T14:30:00.123456`
- æ—¥æœŸæ ¼å¼ï¼š`2025-07-05`
- æ—¶åŒºå¤„ç†ï¼šé»˜è®¤UTCæ—¶é—´

---

## è”ç³»ä¿¡æ¯

**APIè´Ÿè´£äºº**ï¼šé¡¾æ™¨æ˜Š  
**æŠ€æœ¯è´Ÿè´£äºº**ï¼šæé”¡æµ© æ¨æ™“èˆ’  ä¸¥æ™¨
**é¡¹ç›®ç»ç†**ï¼šç‰›èŒ‚æ¶¦  

[ä»“åº“é“¾æ¥](https://whucsgitlab.whu.edu.cn/devops/todolist)  
[APIæœåŠ¡åœ°å€](http://127.0.0.1:8000)  
[æ–‡æ¡£åœ°å€](http://127.0.0.1:8000/docs)  

**æœ€åæ›´æ–°**ï¼š2025å¹´7æœˆ5æ—¥


---

# Git ä½¿ç”¨æŠ¥å‘Š - to_do_list

* **æ–‡æ¡£ç‰ˆæœ¬ï¼š** V1.0
* **ç¼–å†™äººï¼š** æé”¡æµ© ä¸¥æ™¨ ç‰›èŒ‚æ¶¦
* **ç¼–å†™æ—¥æœŸï¼š** 2025å¹´07æœˆ07æ—¥

**ç›®å½•**
- [Git ä½¿ç”¨æŠ¥å‘Š - to\_do\_list](#git-ä½¿ç”¨æŠ¥å‘Š---to_do_list)
  - [1. å¼•è¨€](#1-å¼•è¨€)
    - [1.1 ç›®çš„](#11-ç›®çš„)
  - [2. Git ä»“åº“ä¸ä½¿ç”¨æ¦‚è§ˆ](#2-git-ä»“åº“ä¸ä½¿ç”¨æ¦‚è§ˆ)
    - [2.1 ä»“åº“åŸºæœ¬ä¿¡æ¯](#21-ä»“åº“åŸºæœ¬ä¿¡æ¯)
    - [2.2 Git ç®¡ç†é¡¹ç›®èµ·å§‹æ—¶é—´](#22-git-ç®¡ç†é¡¹ç›®èµ·å§‹æ—¶é—´)
    - [2.3 ç´¯è®¡æäº¤æ¬¡æ•°](#23-ç´¯è®¡æäº¤æ¬¡æ•°)
  - [3. Git æ ¸å¿ƒå·¥ä½œæµç¨‹ (å•ä¸»åˆ†æ”¯æ¨¡å‹)](#3-git-æ ¸å¿ƒå·¥ä½œæµç¨‹-å•ä¸»åˆ†æ”¯æ¨¡å‹)
    - [3.1 æ—¥å¸¸å¼€å‘æ­¥éª¤](#31-æ—¥å¸¸å¼€å‘æ­¥éª¤)
  - [4. Commit æäº¤ä¿¡æ¯](#4-commit-æäº¤ä¿¡æ¯)
  - [5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ (åŸºç¡€ç‰ˆ)](#5-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ-åŸºç¡€ç‰ˆ)
    - [5.1 ä»£ç å†²çªäº†æ€ä¹ˆåŠï¼Ÿ](#51-ä»£ç å†²çªäº†æ€ä¹ˆåŠ)
    - [5.2 æäº¤äº†é”™è¯¯çš„ä»£ç ï¼Œä½†è¿˜æ²¡æ¨é€åˆ°è¿œç¨‹ï¼Ÿ](#52-æäº¤äº†é”™è¯¯çš„ä»£ç ä½†è¿˜æ²¡æ¨é€åˆ°è¿œç¨‹)
    - [5.3 æƒ³åˆ é™¤ä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ï¼Ÿ](#53-æƒ³åˆ é™¤ä¸€ä¸ªæœ¬åœ°åˆ†æ”¯)


## 1. å¼•è¨€

æœ¬æ–‡æ¡£æ—¨åœ¨ä¸ºé¡¹ç›® **to_do_list** æ€»ç»“ Git ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„åŸºæœ¬ä½¿ç”¨æƒ…å†µã€‚ä½œä¸ºåˆå­¦è€…ï¼Œæˆ‘ä»¬ä¸“æ³¨äºç®€æ´ã€é«˜æ•ˆåœ°ç®¡ç†ä»£ç ï¼Œç¡®ä¿å›¢é˜Ÿåä½œé¡ºç•…ã€‚

### 1.1 ç›®çš„
TodoList
* **æŒ‡å¯¼å®è·µï¼š** æ˜ç¡®å›¢é˜Ÿæˆå‘˜å¦‚ä½•ä½¿ç”¨ Git è¿›è¡Œæ—¥å¸¸å¼€å‘ã€‚
* **ç®€åŒ–æµç¨‹ï¼š** æä¾›æœ€æ ¸å¿ƒçš„ Git å·¥ä½œæµï¼Œé¿å…ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚
* **è®°å½•æ¦‚å†µï¼š** æ¦‚è§ˆé¡¹ç›®çš„ Git ä½¿ç”¨æ•°æ®ã€‚

## 2. Git ä»“åº“ä¸ä½¿ç”¨æ¦‚è§ˆ

### 2.1 ä»“åº“åŸºæœ¬ä¿¡æ¯

* **é¡¹ç›®åç§°ï¼š** to_do_list
* **Git ä»“åº“åœ°å€ï¼š** http://whucsgitlab.whu.edu.cn/devops/todolist.git
* **å”¯ä¸€çš„å¼€å‘åˆ†æ”¯ï¼š** `main` åˆ†æ”¯

### 2.2 Git ç®¡ç†é¡¹ç›®èµ·å§‹æ—¶é—´

* **é¡¹ç›®é¦–æ¬¡ Git æäº¤æ—¥æœŸï¼š** 2025å¹´6æœˆ23æ—¥

### 2.3 ç´¯è®¡æäº¤æ¬¡æ•°

* **æˆªè‡³ 2025-7-7 12:03 çš„æ€»æäº¤æ¬¡æ•°ï¼š** 350æ¬¡

![alt text](./assets/git.png)

## 3. Git æ ¸å¿ƒå·¥ä½œæµç¨‹ (å•ä¸»åˆ†æ”¯æ¨¡å‹)

æˆ‘ä»¬é‡‡ç”¨ **å•ä¸»åˆ†æ”¯æ¨¡å‹** è¿›è¡Œå¼€å‘ï¼Œæ‰€æœ‰ä»£ç å˜æ›´éƒ½å›´ç»• `main` åˆ†æ”¯è¿›è¡Œã€‚

### 3.1 æ—¥å¸¸å¼€å‘æ­¥éª¤

1.  **æ›´æ–°æœ¬åœ°ä»£ç ï¼š** åœ¨å¼€å§‹æ–°å·¥ä½œå‰ï¼Œå§‹ç»ˆä»è¿œç¨‹ `main` åˆ†æ”¯æ‹‰å–æœ€æ–°ä»£ç ï¼Œç¡®ä¿æœ¬åœ°ä¸è¿œç¨‹åŒæ­¥ã€‚
    ```bash
    git checkout main
    git pull origin main
    ```
2.  **è¿›è¡Œä»£ç ä¿®æ”¹ä¸æäº¤ï¼š** åœ¨ä½ çš„ä¸ªäººå¼€å‘åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ã€‚å®Œæˆä¸€ä¸ªå°åŠŸèƒ½ç‚¹æˆ–é˜¶æ®µæ€§æˆæœåï¼ŒåŠæ—¶è¿›è¡Œæäº¤ã€‚
    * **æ·»åŠ æ›´æ”¹åˆ°æš‚å­˜åŒºï¼š**
        ```bash
        git add . # æ·»åŠ æ‰€æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶
        # æˆ– git add your_file.py # æ·»åŠ ç‰¹å®šæ–‡ä»¶
        ```
    * **æäº¤ä»£ç ï¼š** ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼Œè¯´æ˜ä½ åšäº†ä»€ä¹ˆã€‚
        ```bash
        git commit -m "ä½ çš„æäº¤ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå®ç°äº†ç”¨æˆ·ç™»å½•åŠŸèƒ½"
        ```
3.  **æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š** å°†ä½ çš„ä¸ªäººå¼€å‘åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚
    ```bash
    git push origin your-feature-or-fix-name
    ```
4.  **æäº¤åˆå¹¶è¯·æ±‚ (Merge Request/Pull Request)ï¼š** å½“ä½ çš„ä»»åŠ¡å®Œæˆå¹¶ç»è¿‡æœ¬åœ°æµ‹è¯•åï¼Œå‘ `main` åˆ†æ”¯æäº¤åˆå¹¶è¯·æ±‚ã€‚
    * **æ ‡é¢˜ï¼š** ç®€è¦è¯´æ˜æœ¬æ¬¡åˆå¹¶çš„ç›®çš„ï¼ˆä¾‹å¦‚ï¼š`å®Œæˆï¼šæ·»åŠ ç™»å½•åŠŸèƒ½` æˆ– `ä¿®å¤ï¼šé¦–é¡µæ˜¾ç¤ºé”™è¯¯`ï¼‰ã€‚
    * **æè¿°ï¼š** ç®€å•æè¿°ä½ åšäº†ä»€ä¹ˆï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜æˆ–å®ç°äº†ä»€ä¹ˆåŠŸèƒ½ã€‚

5.  **åˆå¹¶åˆ° `main` åˆ†æ”¯ï¼š** ä½ çš„åˆå¹¶è¯·æ±‚é€šè¿‡å®¡æŸ¥åï¼Œç”±é¡¹ç›®è´Ÿè´£äººæˆ–ä½ è‡ªå·±å°†å…¶åˆå¹¶åˆ° `main` åˆ†æ”¯ã€‚

## 4. Commit æäº¤ä¿¡æ¯

ä¿æŒæäº¤ä¿¡æ¯æ¸…æ™°

* **ç®€æ´æ˜äº†ï¼š** ä¸€å¥è¯æ¦‚æ‹¬ä½ çš„ä¿®æ”¹ã€‚
* **ä½¿ç”¨åŠ¨è¯å¼€å¤´ï¼š** ä¾‹å¦‚â€œæ·»åŠ â€ã€â€œä¿®å¤â€ã€â€œæ›´æ–°â€ç­‰ã€‚
* **é¿å…å†—ä½™ï¼š** æ— éœ€å†™â€œæˆ‘åšäº†â€æˆ–â€œå®Œæˆäº†â€ã€‚



## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ (åŸºç¡€ç‰ˆ)

### 5.1 ä»£ç å†²çªäº†æ€ä¹ˆåŠï¼Ÿ

* **æƒ…å†µï¼š** å½“ä½  `git pull` æˆ– `git merge` æ—¶ï¼ŒGit æç¤ºæ–‡ä»¶æœ‰å†²çªã€‚
* **è§£å†³æ–¹æ³•ï¼š**
    1.  **æ‰“å¼€å†²çªæ–‡ä»¶ï¼š** Git ä¼šåœ¨æ–‡ä»¶ä¸­ç”¨ `<<<<<<<`, `=======`, `>>>>>>>` æ ‡è®°å‡ºå†²çªçš„éƒ¨åˆ†ã€‚
    2.  **æ‰‹åŠ¨ç¼–è¾‘ï¼š** åˆ é™¤è¿™äº›æ ‡è®°ï¼Œåªä¿ç•™ä½ æœ€ç»ˆæƒ³è¦çš„ä»£ç ï¼ˆèåˆä½ å’Œåˆ«äººçš„æ›´æ”¹ï¼‰ã€‚
    3.  **æ ‡è®°å·²è§£å†³ï¼š** å‘Šè¯‰ Git ä½ å·²ç»è§£å†³äº†å†²çªã€‚
        ```bash
        git add <å†²çªæ–‡ä»¶åç§°>
        ```
    4.  **å®Œæˆåˆå¹¶ï¼š**
        ```bash
        git commit -m "è§£å†³åˆå¹¶å†²çª"
        ```

### 5.2 æäº¤äº†é”™è¯¯çš„ä»£ç ï¼Œä½†è¿˜æ²¡æ¨é€åˆ°è¿œç¨‹ï¼Ÿ

* **æƒ…å†µï¼š** ä½ åˆš `git commit`ï¼Œä½†å‘ç°æäº¤çš„å†…å®¹é”™äº†ã€‚
* **è§£å†³æ–¹æ³•ï¼š**
    * **æ’¤é”€æäº¤ï¼Œä¿ç•™ä¿®æ”¹ï¼š**
        ```bash
        git reset HEAD~1
        ```
        ï¼ˆè¿™ä¼šæŠŠæäº¤æ’¤é”€ï¼Œä½†ä½ ä¿®æ”¹çš„ä»£ç è¿˜åœ¨å·¥ä½œåŒºï¼Œå¯ä»¥é‡æ–°ç¼–è¾‘å’Œæäº¤ã€‚ï¼‰

### 5.3 æƒ³åˆ é™¤ä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ï¼Ÿ

* **æƒ…å†µï¼š** ä½ çš„ä¸ªäººå¼€å‘åˆ†æ”¯å·²ç»åˆå¹¶åˆ° `main` äº†ï¼Œæƒ³æ¸…ç†æ‰ã€‚
* **è§£å†³æ–¹æ³•ï¼š**
    ```bash
    git checkout main # å…ˆåˆ‡æ¢åˆ°ä¸»åˆ†æ”¯æˆ–å…¶ä»–åˆ†æ”¯
    git branch -d your-feature-or-fix-name # åˆ é™¤æœ¬åœ°åˆ†æ”¯
    ```

---

# å¾…åŠäº‹é¡¹åç«¯API æµ‹è¯•æŠ¥å‘Š

- **é¡¹ç›®åç§°**: to_do_list
- **é¡¹ç›®ç‰ˆæœ¬**: V1.0
- **æµ‹è¯•äººå‘˜**: æé”¡æµ© æ¨æ™“èˆ’
- **æµ‹è¯•æ—¥æœŸ**: 2025å¹´07æœˆ01æ—¥

---
**ç›®å½•**

- [å¾…åŠäº‹é¡¹åç«¯API æµ‹è¯•æŠ¥å‘Š](#å¾…åŠäº‹é¡¹åç«¯api-æµ‹è¯•æŠ¥å‘Š)
  - [1. æµ‹è¯•ç®€ä»‹](#1-æµ‹è¯•ç®€ä»‹)
  - [2. Swagger UIåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹ä¸ç»“æœ](#2-swagger-uiåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹ä¸ç»“æœ)
    - [2.1. ä»»åŠ¡ (Tasks) æ¨¡å—æµ‹è¯•](#21-ä»»åŠ¡-tasks-æ¨¡å—æµ‹è¯•)
    - [2.2. ä¹ æƒ¯ (Habits) æ¨¡å—æµ‹è¯•](#22-ä¹ æƒ¯-habits-æ¨¡å—æµ‹è¯•)

  - [3. Apifox æµ‹è¯•](#3-apifox-æµ‹è¯•)
    - [3.1. ä»»åŠ¡ (Tasks) æ¨¡å—æµ‹è¯•](#31-ä»»åŠ¡-tasks-æ¨¡å—æµ‹è¯•)
        - [3.1.1. æµ‹è¯•æµç¨‹](#311-æµ‹è¯•æµç¨‹)
        - [3.1.2.åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š](#312åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š)
        - [3.1.3 æ€§èƒ½æµ‹è¯•æŠ¥å‘Š](#313-æ€§èƒ½æµ‹è¯•æŠ¥å‘Š)
    - [3.2. ä¹ æƒ¯ (Habits) æ¨¡å—æµ‹è¯•](#32-ä¹ æƒ¯-habits-æ¨¡å—æµ‹è¯•)
        - [3.2.1. æµ‹è¯•æµç¨‹](#321-æµ‹è¯•æµç¨‹)
        - [3.2.2. åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š](#322-åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š)
        - [3.2.3. æ€§èƒ½æµ‹è¯•æŠ¥å‘Š](#323-æ€§èƒ½æµ‹è¯•æŠ¥å‘Š)
  - [4 æµ‹è¯•ç”¨ä¾‹è®¾è®¡](#4-æµ‹è¯•ç”¨ä¾‹è®¾è®¡)
    - [4.1. ä»»åŠ¡ç®¡ç†æµ‹è¯•](#41-ä»»åŠ¡ç®¡ç†æµ‹è¯•)
    - [4.2 ä¼˜å…ˆçº§ç®—æ³•æµ‹è¯•](#42-ä¼˜å…ˆçº§ç®—æ³•æµ‹è¯•)
  - [5. sonarqubeåtestä¼˜åŒ–](#5-sonarqubeåtestä¼˜åŒ–)
  - [6. æµ‹è¯•æ€»ç»“](#6-æµ‹è¯•æ€»ç»“)


## 1. æµ‹è¯•ç®€ä»‹

æœ¬æ¬¡æµ‹è¯•æ—¨åœ¨éªŒè¯â€œå¾…åŠäº‹é¡¹åç«¯â€é¡¹ç›®çš„æ ¸å¿ƒAPIåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ä¸»è¦æµ‹è¯•å¯¹è±¡åŒ…æ‹¬ **ä»»åŠ¡ç®¡ç†**ã€**ä¹ æƒ¯å…»æˆ**  äºŒä¸ªæ¨¡å—

- **æµ‹è¯•å·¥å…·**: 
  - FastAPI è‡ªåŠ¨ç”Ÿæˆçš„äº¤äº’å¼APIæ–‡æ¡£ (`/docs`)
  - ApiFox
- **æµ‹è¯•ç¯å¢ƒ**: æœ¬åœ°å¼€å‘ç¯å¢ƒ (`http://127.0.0.1:8000`)

---

## 2. Swagger UIåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹ä¸ç»“æœ

### 2.1. ä»»åŠ¡ (Tasks) æ¨¡å—æµ‹è¯•


| ç”¨ä¾‹ID | æµ‹è¯•åŠŸèƒ½ | æµ‹è¯•æ­¥éª¤ | é¢„æœŸç»“æœ | å®é™…ç»“æœ (æˆªå›¾) | çŠ¶æ€ |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **TC-TASK-001** | **æˆåŠŸåˆ›å»ºæ–°ä»»åŠ¡** | 1. è®¿é—® `/docs` é¡µé¢ï¼Œå±•å¼€ `POST /tasks` æ¥å£ã€‚<br>2. ç‚¹å‡» "Try it out"ã€‚<br>3. åœ¨è¯·æ±‚ä½“ä¸­è¾“å…¥: <br> `{ "name": "å­¦ä¹ APIæµ‹è¯•", "description": "å°è¯•" }`<br>4. ç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `201 Created` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸­åŒ…å«åˆšåˆ›å»ºçš„ä»»åŠ¡ä¿¡æ¯ï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªå”¯ä¸€çš„ `id`ã€‚ | ![alt text](./assets/image.png) | é€šè¿‡ |
| **TC-TASK-002** | **åˆ›å»ºä»»åŠ¡å¤±è´¥ (ç¼ºå°‘åç§°)** |  åœ¨è¯·æ±‚ä½“ä¸­è¾“å…¥ä¸€ä¸ªæ²¡æœ‰ `name` å­—æ®µçš„JSON: <br> `{ "description": "æ²¡æœ‰åç§°çš„ä»»åŠ¡" }`<br> | - æœåŠ¡å™¨è¿”å› `422 Unprocessable Entity` é”™è¯¯çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸­æç¤º `name` å­—æ®µæ˜¯å¿…éœ€çš„ã€‚ | ![alt text](./assets/image-1.png) | é€šè¿‡ |
| **TC-TASK-003** | **è·å–æ‰€æœ‰ä»»åŠ¡åˆ—è¡¨** | 1. ç¡®ä¿å·²é€šè¿‡ **TC-TASK-001** åˆ›å»ºäº†è‡³å°‘ä¸€ä¸ªä»»åŠ¡ã€‚<br>2. ç‚¹å‡» "Try it out"ï¼Œç„¶åç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `200 OK` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ˆæ•°ç»„ï¼‰ï¼Œåˆ—è¡¨ä¸­åŒ…å«äº†ä¹‹å‰åˆ›å»ºçš„ä»»åŠ¡ã€‚ | ![alt text](./assets/image-2.png) | é€šè¿‡ |
| **TC-TASK-004** | **æ›´æ–°æŒ‡å®šä»»åŠ¡** | 1. è®°ä¸‹ **TC-TASK-001** ä¸­åˆ›å»ºçš„ä»»åŠ¡ `id` (ä¾‹å¦‚ `1`)ã€‚<br>2. åœ¨ `task_id` å¤„å¡«å…¥ `1`ã€‚<br>3. åœ¨è¯·æ±‚ä½“ä¸­è¾“å…¥: <br> `{ "completed": true }`<br>4. ç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `200 OK` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸­ï¼Œè¯¥ä»»åŠ¡çš„ `completed` å­—æ®µå˜ä¸º `true`ã€‚ |![alt text](./assets/image-3.png) | é€šè¿‡ |
| **TC-TASK-005** | **åˆ é™¤æŒ‡å®šä»»åŠ¡** | 1. åœ¨ `task_id` å¤„å¡«å…¥ `1`ã€‚<br>2. ç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `204 No Content` çŠ¶æ€ç ã€‚<br>- æ­¤æ—¶å†æ¬¡è·å–ä»»åŠ¡åˆ—è¡¨ (**TC-TASK-003**)ï¼Œè¯¥ä»»åŠ¡å·²ä¸å­˜åœ¨ã€‚ | ![alt text](./assets/image-4.png)|  é€šè¿‡ |
| **TC-TASK-006** | **æœç´¢æŒ‡å®šä»»åŠ¡** | 1. åœ¨ `æœç´¢` å¤„å¡«å…¥ `API`ã€‚<br>2. ç‚¹å‡» "Execute"ã€‚ |  - æœåŠ¡å™¨è¿”å› `200 OK` çŠ¶æ€ç ã€‚<br>- æ­¤æ—¶å†æ¬¡è·å–ä»»åŠ¡åˆ—è¡¨ (**TC-TASK-003**)ï¼Œè¯¥ä»»åŠ¡å·²ä¸å­˜åœ¨ã€‚ | ![alt text](./assets/image-5.png)|  é€šè¿‡ |
| **TC-TASK-007** | **è¿”å›å­ä»»åŠ¡** | 1. åœ¨ `task_id` å¤„å¡«å…¥ `8`ã€‚<br>2. ç‚¹å‡» "Execute"ã€‚ |  - æœåŠ¡å™¨è¿”å› `200 OK` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ˆæ•°ç»„ï¼‰ï¼Œåˆ—è¡¨ä¸­åŒ…å«äº†ä¹‹å‰åˆ›å»ºçš„ä»»åŠ¡ã€‚ | ![alt text](./assets/image-6.png)|  é€šè¿‡ |

---

### 2.2. ä¹ æƒ¯ (Habits) æ¨¡å—æµ‹è¯•

| ç”¨ä¾‹ID | æµ‹è¯•åŠŸèƒ½ | æµ‹è¯•æ­¥éª¤ | é¢„æœŸç»“æœ | å®é™…ç»“æœ (æˆªå›¾) | çŠ¶æ€ |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **TC-HABIT-001** | **æˆåŠŸåˆ›å»ºæ–°ä¹ æƒ¯** | 1. è®¿é—® `/docs` é¡µé¢ï¼Œå±•å¼€ `POST /habits` æ¥å£ã€‚<br>2. ç‚¹å‡» "Try it out"ã€‚<br>3. åœ¨è¯·æ±‚ä½“ä¸­è¾“å…¥: <br> `{ "name": "æ¯å¤©é˜…è¯»", "description": "æ¯å¤©é˜…è¯»30åˆ†é’Ÿ" }`<br>4. ç‚¹å‡» "Execute"ã€‚ |  - æœåŠ¡å™¨è¿”å› `201 Created` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸­åŒ…å«åˆšåˆ›å»ºçš„ä¹ æƒ¯ä¿¡æ¯ï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ª `id`ã€‚ | ![alt text](./assets/image-7.png) | é€šè¿‡ |
| **TC-HABIT-002** | **åˆ›å»ºé‡å¤ä¹ æƒ¯** | 1. åœ¨è¯·æ±‚ä½“ä¸­è¾“å…¥: <br> `{ "name": "æ¯å¤©é˜…è¯»", "description": "æ¯å¤©é˜…è¯»30åˆ†é’Ÿ" }`<br>2. ç‚¹å‡» "Execute"ã€‚ |  - æœåŠ¡å™¨è¿”å› `400 Bad Request` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸­æç¤º`åˆ›å»ºä¹ æƒ¯å¤±è´¥: ä¹ æƒ¯ 'æ¯å¤©é˜…è¯»' å·²å­˜åœ¨ã€‚` | ![alt text](./assets/image-9.png)| é€šè¿‡ |
| **TC-HABIT-003** | **è·å–æ‰€æœ‰ä¹ æƒ¯åˆ—è¡¨** | 1. ç¡®ä¿å·²é€šè¿‡ **TC-HABIT-001** åˆ›å»ºäº†è‡³å°‘ä¸€ä¸ªä¹ æƒ¯ã€‚<br>2. ç‚¹å‡» "Try it out"ï¼Œç„¶åç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `200 OK` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«äº†ä¹‹å‰åˆ›å»ºçš„ä¹ æƒ¯ã€‚ | ![alt text](./assets/image-8.png) |  é€šè¿‡ |
| **TC-HABIT-004** | **æˆåŠŸä¸ºä¹ æƒ¯æ‰“å¡** | 1. è®°ä¸‹ **TC-HABIT-001** ä¸­åˆ›å»ºçš„ä¹ æƒ¯ `id` (ä¾‹å¦‚ `2`)ã€‚<br>2. åœ¨ `habit_id` å¤„å¡«å…¥ `3`ã€‚<br>3. è¯·æ±‚ä½“å¯ä»¥ä¸ºç©º `{}` æˆ– `{"date": "2025-07-01T10:20:00Z"}`<br>4. ç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `201 Created` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸º `{"id": 3,"habit_id": 3,"date": "2025-07-01T00:00:00"}`ã€‚<br>- äº§ç”Ÿä¸€ä¸ªæ‰“å¡æ—¥å¿— | ![alt text](./assets/image-10.png) |  é€šè¿‡ |
| **TC-HABIT-005** | **æ¯æ—¥åªèƒ½æ‰“å¡ä¸€æ¬¡** | 1. è®°ä¸‹ **TC-HABIT-001** ä¸­åˆ›å»ºçš„ä¹ æƒ¯ `id` (ä¾‹å¦‚ `2`)ã€‚<br>2. åœ¨ `habit_id` å¤„å¡«å…¥ `2`ã€‚<br>3. è¯·æ±‚ä½“å¯ä»¥ä¸ºç©º `{}` æˆ– `{"date": "2025-07-01T10:20:00Z"}`<br>4. ç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `409 Conflict` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸º `{"detail": "åˆ›å»ºæ‰“å¡è®°å½•å¤±è´¥: ä»Šæ—¥å·²æ‰“å¡ï¼Œè¯·å‹¿é‡å¤æ“ä½œã€‚"}`ã€‚<br>- äº§ç”Ÿä¸€ä¸ªæ‰“å¡æ—¥å¿— | ![alt text](./assets/image-11.png) |  é€šè¿‡ |
| **TC-HABIT-006** | **è·å–æ‰“å¡è®°å½•** | 1. è®°ä¸‹ **TC-HABIT-001** ä¸­åˆ›å»ºçš„ä¹ æƒ¯ `id` (ä¾‹å¦‚ `2`)ã€‚<br>2. åœ¨ `habit_id` å¤„å¡«å…¥ `2`ã€‚<br>3. ç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `200 OK` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸º `{"[{"id": 1,"habit_id": 2,"date": "2025-07-01T00:00:00"}]"}`ã€‚<br>- äº§ç”Ÿä¸€ä¸ªæ‰“å¡æ—¥å¿— | ![alt text](./assets/image-12.png) |  é€šè¿‡ |
| **TC-HABIT-007** | **è·å–å½“å‰æŒç»­æ‰“å¡å¤©æ•°** | 1. è®°ä¸‹ **TC-HABIT-001** ä¸­åˆ›å»ºçš„ä¹ æƒ¯ `id` (ä¾‹å¦‚ `2`)ã€‚<br>2. åœ¨ `habit_id` å¤„å¡«å…¥ `2`ã€‚<br>3. ç‚¹å‡» "Execute"ã€‚ | - æœåŠ¡å™¨è¿”å› `200 OK` çŠ¶æ€ç ã€‚<br>- å“åº”å†…å®¹ä¸º `1`ã€‚<br>- äº§ç”Ÿä¸€ä¸ªæ‰“å¡æ—¥å¿— | ![alt text](./assets/image-13.png) |  é€šè¿‡ |
---

## 3. Apifox æµ‹è¯•
**å®ç°äº†è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥å¯¹æ‰€æœ‰åŠŸèƒ½è¿›è¡Œå¿«é€Ÿä¾¿æ·çš„æµ‹è¯•**
### 3.1. ä»»åŠ¡ (Tasks) æ¨¡å—æµ‹è¯•
##### 3.1.1. æµ‹è¯•æµç¨‹
![alt text](./assets/image_task1.png)
##### 3.1.2.åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š
![alt text](./assets/fun1.png)
##### 3.1.3 æ€§èƒ½æµ‹è¯•æŠ¥å‘Š
![alt text](./assets/image-task2.png)
![alt text](./assets/image-task3.png)
### 3.2. ä¹ æƒ¯ (Habits) æ¨¡å—æµ‹è¯•
##### 3.2.1. æµ‹è¯•æµç¨‹
![alt text](./assets/image_habit1.png)
##### 3.2.2. åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š
![alt text](./assets/fun2.png)
##### 3.2.3. æ€§èƒ½æµ‹è¯•æŠ¥å‘Š
![alt text](./assets/image-habit2.png)
![alt text](./assets/image-habit3.png)


## 4 æµ‹è¯•ç”¨ä¾‹è®¾è®¡

### 4.1. ä»»åŠ¡ç®¡ç†æµ‹è¯•
```python
def test_task_crud_and_subtree():
    """æµ‹è¯•ä»»åŠ¡çš„CRUDæ“ä½œå’Œå­ä»»åŠ¡åŠŸèƒ½"""
    # åˆ›å»ºçˆ¶ä»»åŠ¡
    response = client.post("/tasks", json={
        "name": "çˆ¶ä»»åŠ¡",
        "importance": True,
        "urgent": False
    })
    assert response.status_code == 201
    parent_id = response.json()["id"]

    # åˆ›å»ºå­ä»»åŠ¡
    client.post("/tasks", json={
        "name": "å­ä»»åŠ¡1",
        "parent_id": parent_id
    })

    # éªŒè¯å­ä»»åŠ¡æ•°é‡
    response = client.get(f"/tasks/{parent_id}/children")
    assert len(response.json()) == 1
```

### 4.2 ä¼˜å…ˆçº§ç®—æ³•æµ‹è¯•
```python
def test_priority_calculation():
    """æµ‹è¯•ä»»åŠ¡ä¼˜å…ˆçº§è®¡ç®—ç®—æ³•"""
    # é‡è¦ä¸”ç´§æ€¥çš„ä»»åŠ¡
    task1 = Task(importance=True, urgent=True, completed=False)
    assert task1.priority_parameter == 0.9

    # å·²å®Œæˆçš„ä»»åŠ¡
    task2 = Task(completed=True)
    assert task2.priority_parameter == 0.0
```
## 5. sonarqubeåtestä¼˜åŒ–
æå‡testè¦†ç›–ç‡
![alt text](./assets/sonartest1.png)
![alt text](./assets/sonarCI3.png)
æ–°å¢testå•å…ƒæµ‹è¯•ï¼Œè§æ–‡æ¡£test_main test_crudç­‰ç­‰
é€šè¿‡teståå‡ºç°çš„failedé€æ­¥é™ä½ä»£ç é—®é¢˜
![alt text](./assets/sonartest3.png)
![alt text](./assets/sonartest4.png)
![alt text](./assets/sonartest5.png)
![alt text](./assets/sonartest6.png)

## 6. æµ‹è¯•æ€»ç»“

æœ¬æ¬¡æµ‹è¯•è¦†ç›–äº†ä»»åŠ¡ã€ä¹ æƒ¯æ¨¡å—çš„æ ¸å¿ƒCRUDï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ï¼‰åŠŸèƒ½ã€‚

**æ€»ä½“ç»“æœ**: æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å‡å·²é€šè¿‡ï¼ŒAPIåŠŸèƒ½ç¬¦åˆé¢„æœŸã€‚

**å‘ç°çš„é—®é¢˜**:
- å†³å®šå°†ç•ªèŒ„é’Ÿçš„åŠŸèƒ½å®Œå…¨åœ¨å‰ç«¯å®ç°ï¼Œæ— éœ€åœ¨åç«¯å­˜å‚¨æ•°æ®


---

# CI/CD æŠ€æœ¯æ–‡æ¡£

* **æ–‡æ¡£ç‰ˆæœ¬ï¼š** V1.0
* **ç¼–å†™äººï¼š** æé”¡æµ© æ¨æ™“èˆ’
* **ç¼–å†™æ—¥æœŸï¼š** 2025å¹´07æœˆ05æ—¥
---

**ç›®å½•**
  - [1.ç®€ä»‹](#1ç®€ä»‹)
    - [1.1 ç›®çš„](#11-ç›®çš„)
    - [1.2 èŒƒå›´](#12-èŒƒå›´)
  - [2. CI/CD æµæ°´çº¿æ¦‚è¿°](#2-cicd-æµæ°´çº¿æ¦‚è¿°)
  - [3. Jenkins è‡ªåŠ¨åŒ–æ„å»º](#3-jenkins-è‡ªåŠ¨åŒ–æ„å»º)
    - [3.1 Jenkins Job é…ç½®](#31-jenkins-job-é…ç½®)
      - [3.1.1 æºç ç®¡ç† (SCM)](#311-æºç ç®¡ç†-scm)
      - [3.1.2 æ„å»ºæ­¥éª¤](#312-æ„å»ºæ­¥éª¤)
  - [4. Ansible è‡ªåŠ¨åŒ–éƒ¨ç½²](#4-ansible-è‡ªåŠ¨åŒ–éƒ¨ç½²)
    - [4.1. Ansible Playbook](#41-ansible-playbook)
    - [4.2.Playbook ç»“æ„ä¸åŠŸèƒ½](#42playbook-ç»“æ„ä¸åŠŸèƒ½)
      - [4.2.1 å˜é‡](#421-å˜é‡)
      - [4.2.2 éƒ¨ç½²ä»»åŠ¡](#422-éƒ¨ç½²ä»»åŠ¡)
    - [4.3 Ansible ä¸ Jenkins çš„é›†æˆ](#43-ansible-ä¸-jenkins-çš„é›†æˆ)
  - [5.SonarQube ä»£ç è´¨é‡æ£€æµ‹](#5sonarqube-ä»£ç è´¨é‡æ£€æµ‹)
  - [6. ç›‘æ§ä¸æ—¥å¿—](#6-ç›‘æ§ä¸æ—¥å¿—)


### 1.ç®€ä»‹
æœ¬æ–‡æ¡£æ—¨åœ¨è¯¦ç»†é˜è¿° [to do list] çš„æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰æµæ°´çº¿ã€‚è¯¥æµæ°´çº¿å®ç°äº†ä»ä»£ç æäº¤åˆ°éƒ¨ç½²çš„è‡ªåŠ¨åŒ–è½¯ä»¶äº¤ä»˜æµç¨‹
#### 1.1 ç›®çš„
æ­¤CI/CD æµæ°´çº¿çš„ä¸»è¦ç›®çš„æ˜¯ï¼š
- è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•è¿‡ç¨‹ã€‚
- è‡ªåŠ¨åŒ–åº”ç”¨ç¨‹åºåˆ°ä¸åŒç¯å¢ƒçš„éƒ¨ç½²ã€‚
- å‡å°‘äººå·¥é”™è¯¯ï¼Œæé«˜æ•ˆç‡ã€‚

#### 1.2 èŒƒå›´
æœ¬æ–‡æ¡£æ¶µç›–äº†Jenkinsè‡ªåŠ¨åŒ–æ„å»ºå’ŒAnsibleè‡ªåŠ¨åŒ–éƒ¨ç½²åœ¨CI/CDå·¥ä½œæµä¸­çš„é›†æˆå’Œé…ç½®ã€‚  

---

### 2. CI/CD æµæ°´çº¿æ¦‚è¿°
CI/CD æµæ°´çº¿è¢«è®¾è®¡ä¸ºä¸€ç³»åˆ—è‡ªåŠ¨åŒ–æ­¥éª¤ï¼Œå½“ä»£ç å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚å…¶å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š

1. **ä»£ç æäº¤ï¼š** å¼€å‘äººå‘˜å°†ä»£ç æäº¤åˆ° Git ä»“åº“ã€‚

2. **Jenkins æ„å»ºè§¦å‘ï¼š** Jenkins è‡ªåŠ¨æ£€æµ‹ä»£ç æ›´æ”¹å¹¶è§¦å‘æ–°çš„æ„å»ºã€‚

3. **è‡ªåŠ¨åŒ–æ„å»ºä¸æµ‹è¯•ï¼š** Jenkins ç¼–è¯‘ä»£ç ï¼Œè¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¹¶æ‰“åŒ…åº”ç”¨ç¨‹åºã€‚

4. **æ„ä»¶ç”Ÿæˆï¼š** ç”Ÿæˆä¸€ä¸ªå¯éƒ¨ç½²çš„æ„ä»¶

5. **Ansible éƒ¨ç½²è§¦å‘ï¼š** æ„å»ºæˆåŠŸåï¼ŒJenkins è§¦å‘ Ansible è¿›è¡Œéƒ¨ç½²ã€‚

---

### 3. Jenkins è‡ªåŠ¨åŒ–æ„å»º
Jenkins ä½œä¸ºæ ¸å¿ƒè‡ªåŠ¨åŒ–æœåŠ¡å™¨ï¼Œè´Ÿè´£ç¼–æ’CI/CDæµæ°´çº¿ä¸­çš„æ„å»ºå’Œåˆæ­¥æµ‹è¯•é˜¶æ®µã€‚
#### 3.1 Jenkins Job é…ç½®
æ¯ä¸ªé¡¹ç›®é€šå¸¸éƒ½æœ‰ä¸€ä¸ªä¸“ç”¨çš„ Jenkins Jobï¼ˆæˆ–æµæ°´çº¿ä¸­çš„ä¸€ç³»åˆ— Jobï¼‰ï¼Œç”¨äºæ‰§è¡Œæ„å»ºè¿‡ç¨‹ã€‚

##### 3.1.1 æºç ç®¡ç† (SCM)
Jenkins é…ç½®ä» GitLab æ‹‰å–ä»£ç ã€‚SCM è¢«è®¾ç½®æ¯30åˆ†é’Ÿæ£€æµ‹ GitLabä¸Šæ˜¯å¦æœ‰æäº¤  

**Jenkins SCMé…ç½®å›¾**
![alt text](./assets/SCM.png)


##### 3.1.2 æ„å»ºæ­¥éª¤
æ„å»ºæ­¥éª¤åŒ…æ‹¬ç¼–è¯‘æºä»£ç ã€è§£æä¾èµ–é¡¹ä»¥åŠè¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚
- æµ‹è¯•æ¡†æ¶ï¼š é›†æˆäº† Pytest ä»¥ç¡®ä¿ä»£ç è´¨é‡ã€‚

**Jenkinsæ„å»ºè„šæœ¬**
```bash
cd /var/lib/jenkins/workspace/to_do_list

echo "åˆ›å»ºå¹¶æ¿€æ´» Jenkins æµ‹è¯•ç¯å¢ƒçš„è™šæ‹Ÿç¯å¢ƒ..."
python3 -m venv venv_test
. venv_test/bin/activate

echo "å®‰è£…é¡¹ç›®å’Œæµ‹è¯•ä¾èµ–..."
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
pip install -r requirements-dev.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/

echo "è¿è¡Œ Pytest æµ‹è¯• (ä½äº tests/unit)..."
pytest --junitxml=test-results.xml tests/unit/

if [ $? -ne 0 ]; then
    echo "Pytest tests failed! Aborting deployment."
    exit 1 # å¼ºåˆ¶ Jenkins æ„å»ºå¤±è´¥
fi

echo "æµ‹è¯•é€šè¿‡ï¼Œæ‰§è¡Œ Ansible éƒ¨ç½²..."
ansible-playbook deploy_todolist.yml -c local
```

![alt text](./assets/jenkins1.png)

---

### 4. Ansible è‡ªåŠ¨åŒ–éƒ¨ç½²
#### 4.1. Ansible Playbook
Ansible Playbook æ˜¯ç”¨äºæ‰§è¡Œéƒ¨ç½²ä»»åŠ¡çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œä»¥ YAML æ ¼å¼ç¼–å†™ï¼Œæè¿°äº†è¦æ‰§è¡Œçš„æ“ä½œåºåˆ—ã€‚
```yaml
- name: éƒ¨ç½²ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
  hosts: localhost # ç›®æ ‡ä¸»æœº

  vars:
    repo_url: http://whucsgitlab.whu.edu.cn/devops/todolist.git
    base_install_dir: /opt
    app_base_dir: "{{ base_install_dir }}/todolist"
    app_full_path: "{{ app_base_dir }}/src/app"
    app_log_file: "{{ app_full_path }}/app.log"
    venv_path: "{{ app_full_path }}/venv"
    production_requirements_file: "{{ app_base_dir }}/requirements.txt"
    main_app_file: "main"
    jenkins_user: jenkins
    jenkins_group: jenkins
  tasks:
    - name: ç¡®ä¿åŸºç¡€å®‰è£…ç›®å½•å­˜åœ¨
      ansible.builtin.file:
        path: "{{ base_install_dir }}"
        state: directory
        mode: '0755'
        owner: root
        group: root
      when: base_install_dir != '/tmp'
      become: yes

    - name: ç¡®ä¿é¡¹ç›®æ ¹ç›®å½•å­˜åœ¨ä¸”æ‰€æœ‰è€…æ˜¯Jenkinsç”¨æˆ· (root æƒé™åˆ›å»ºå¹¶æ›´æ”¹æ‰€æœ‰æƒ)
      ansible.builtin.file:
        path: "{{ app_base_dir }}" # /opt/todolist
        state: directory
        mode: '0755'
        owner: "{{ jenkins_user }}"
        group: "{{ jenkins_group }}"
        recurse: yes
      become: yes

    - name: åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ
      ansible.builtin.command:
        cmd: python3 -m venv "{{ venv_path }}"
        chdir: "{{ app_full_path }}"
      args:
        creates: "{{ venv_path }}/bin/activate"

    - name: å®‰è£…Pythonä¾èµ–
      ansible.builtin.pip:
        requirements: "{{ production_requirements_file }}"
        virtualenv: "{{ venv_path }}"
        extra_args: "-i https://pypi.tuna.tsinghua.edu.cn/simple"

    - name: åœæ­¢æ—§çš„åº”ç”¨è¿›ç¨‹ (å¦‚æœå­˜åœ¨)
      ansible.builtin.shell: |
        ps aux | grep "{{ main_app_file }}" | grep -v grep | awk '{print $2}' | xargs -r kill -9
      changed_when: true

    - name: åå°å¯åŠ¨åº”ç”¨
      ansible.builtin.shell: |
        nohup {{ venv_path }}/bin/python -m src.app.main > "{{ app_log_file }}" 2>&1 &
      args:
        chdir: "{{ app_base_dir }}" # åœ¨ä¸»åº”ç”¨ç¨‹åºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æ‰§è¡Œå¯åŠ¨å‘½ä»¤
      async: 1 # å¼‚æ­¥æ‰§è¡Œï¼Œä¸ç­‰å¾…å‘½ä»¤å®Œæˆ
      poll: 0  # ä¸è½®è¯¢ç»“æœï¼Œç«‹å³è¿”å›
```
#### 4.2.Playbook ç»“æ„ä¸åŠŸèƒ½

##### 4.2.1 å˜é‡

Playbook é¢„å®šä¹‰äº†éƒ¨ç½²ç›¸å…³çš„å…³é”®ä¿¡æ¯ï¼š

- `repo_url`: é¡¹ç›®ä»£ç çš„ Git ä»“åº“åœ°å€ã€‚

- `base_install_dir`: åº”ç”¨ç¨‹åºçš„åŸºç¡€å®‰è£…ç›®å½•ï¼ˆé»˜è®¤ä¸º /optï¼‰ã€‚

- `app_base_dir`: åº”ç”¨ç¨‹åºé¡¹ç›®æ ¹ç›®å½•ï¼ˆ/opt/todolistï¼‰ã€‚

- `app_full_path`: åº”ç”¨ç¨‹åºä¸»ä»£ç è·¯å¾„ï¼ˆ{{ app_base_dir }}/src/appï¼‰ã€‚

- `app_log_file`: åº”ç”¨ç¨‹åºæ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚

- `venv_path`: Python è™šæ‹Ÿç¯å¢ƒè·¯å¾„ã€‚

- `production_requirements_file`: ç”Ÿäº§ç¯å¢ƒ Python ä¾èµ–æ–‡ä»¶è·¯å¾„ã€‚

- `main_app_file`: åº”ç”¨ç¨‹åºä¸»å…¥å£æ–‡ä»¶åï¼ˆmainï¼‰ã€‚

- `jenkins_user`, `jenkins_group`: Jenkins ç”¨æˆ·å’Œç»„ï¼Œç”¨äºè®¾ç½®ç›®å½•æ‰€æœ‰æƒã€‚

##### 4.2.2 éƒ¨ç½²ä»»åŠ¡
ä»¥ä¸‹æ˜¯ Playbook è‡ªåŠ¨æ‰§è¡Œçš„éƒ¨ç½²ä»»åŠ¡åºåˆ—ï¼š

1. **ç¯å¢ƒå‡†å¤‡**ï¼š
- ç¡®ä¿åŸºç¡€å®‰è£…ç›®å½• (`/opt`) å­˜åœ¨å¹¶è®¾ç½® `root` æƒé™ã€‚
- åˆ›å»ºæˆ–ç¡®è®¤é¡¹ç›®æ ¹ç›®å½• (`/opt/todolist`) å­˜åœ¨ï¼Œå¹¶è®¾ç½®å…¶æ‰€æœ‰è€…ä¸º Jenkins ç”¨æˆ·ï¼Œä»¥ä¾¿ Jenkins æœ‰æƒé™ç®¡ç†.

2. **ä¾èµ–ç®¡ç†**ï¼š
- åœ¨åº”ç”¨ç¨‹åºä¸»ç›®å½• (src/app) å†…åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒã€‚
- åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œæ ¹æ® `requirements.txt` å®‰è£…æ‰€æœ‰ç”Ÿäº§ç¯å¢ƒä¾èµ–ï¼Œå¹¶ä½¿ç”¨æ¸…å PyPI é•œåƒåŠ é€Ÿä¸‹è½½ã€‚

3. **åº”ç”¨ç®¡ç†**ï¼š
- åœæ­¢æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„æ—§åº”ç”¨è¿›ç¨‹ï¼Œé¿å…ç«¯å£å†²çªã€‚
- ä»¥åå°æ¨¡å¼å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå°†è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶ (`app.log`)ã€‚æ­¤æ­¥éª¤ä¸ºå¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡åç»­æµç¨‹ã€‚

#### 4.3 Ansible ä¸ Jenkins çš„é›†æˆ
Jenkins é€šè¿‡æ‰§è¡Œ `ansible-playbook deploy_todolist.yml -c local` å‘½ä»¤æ¥è§¦å‘æ­¤éƒ¨ç½² Playbookã€‚æ­¤å‘½ä»¤æŒ‡ç¤º Ansible åœ¨æœ¬åœ°æ‰§è¡Œéƒ¨ç½²ä»»åŠ¡ï¼Œä¸ Playbook ä¸­ hosts: localhost çš„å®šä¹‰ä¸€è‡´ã€‚

---

### 5.SonarQube ä»£ç è´¨é‡æ£€æµ‹

SonarQubeä½œä¸ºä»£ç è´¨é‡æ£€æµ‹å¹³å°ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­æ‰¿æ‹…äº†é™æ€ä»£ç åˆ†æå’Œæµ‹è¯•è¦†ç›–ç‡è¯„ä¼°çš„å…³é”®è§’è‰²ã€‚å½“å‰çš„è´¨é‡é—¨å·²é€šè¿‡ï¼Œè¡¨æ˜ä»£ç åœ¨å®‰å…¨æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯é æ€§ç­‰å…³é”®ç»´åº¦ä¸Šè¾¾åˆ°äº†å‘å¸ƒæ ‡å‡†ï¼Œä»¥ä¸‹ä¸ºå…·ä½“æŒ‡æ ‡åˆ†æï¼š

1. **Securityï¼ˆå®‰å…¨æ€§ï¼‰**
   - **0 ä¸ª Open Issuesï¼ˆç­‰çº§ Aï¼‰**ï¼šä»£ç ä¸­æœªæ£€æµ‹åˆ°å·²çŸ¥çš„å®‰å…¨æ¼æ´ï¼Œæ•´ä½“å®‰å…¨æ€§ä¼˜ç§€ã€‚

2. **Security Hotspotsï¼ˆå®‰å…¨çƒ­ç‚¹ï¼‰**
   - **0 ä¸ªï¼ˆç­‰çº§ Aï¼‰**ï¼šè¯´æ˜ä»£ç ä¸­æœªå‘ç°ä»»ä½•æ½œåœ¨æ•æ„Ÿæˆ–é«˜é£é™©æ“ä½œï¼Œå®‰å…¨ç»“æ„å¥å…¨ã€‚

3. **Reliabilityï¼ˆå¯é æ€§ï¼‰**
   - **0 ä¸ª Open Issuesï¼ˆç­‰çº§ Aï¼‰**ï¼šç³»ç»Ÿä¸­æœªæ£€æµ‹åˆ°å¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒæˆ–è¡Œä¸ºå¼‚å¸¸çš„é—®é¢˜ï¼Œè¿è¡Œç¨³å®šå¯é ã€‚

4. **Maintainabilityï¼ˆå¯ç»´æŠ¤æ€§ï¼‰**
   - **2 ä¸ª Open Issuesï¼ˆç­‰çº§ Aï¼‰**ï¼šä»…å­˜åœ¨è½»å¾®çš„ç»“æ„æ€§ä¼˜åŒ–å»ºè®®ï¼Œå¯¹åŠŸèƒ½æ— å®è´¨å½±å“ã€‚

5. **Coverageï¼ˆæµ‹è¯•è¦†ç›–ç‡ï¼‰**
   - **89.9%**ï¼šåœ¨ 445 è¡Œéœ€è¦†ç›–çš„ä»£ç ä¸­ï¼Œæµ‹è¯•å·²è¦†ç›–å¤§éƒ¨åˆ†é€»è¾‘ï¼Œæµ‹è¯•è¦†ç›–ç‡éå¸¸ä¼˜ç§€ï¼Œåæ˜ å‡ºè‰¯å¥½çš„æµ‹è¯•æ„è¯†ä¸è´¨é‡ä¿éšœèƒ½åŠ›ã€‚

6. **Duplicationsï¼ˆé‡å¤ä»£ç ï¼‰**
   - **0.0%ï¼ˆç­‰çº§ Aï¼‰**ï¼šä»£ç å®Œå…¨æ— å†—ä½™ç‰‡æ®µï¼Œè¯´æ˜é¡¹ç›®ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—åˆ’åˆ†åˆç†ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œå½“å‰SonarQubeçš„æ£€æµ‹ç»“æœåæ˜ äº†æœ¬é¡¹ç›®çš„é«˜è´¨é‡å®ç°æ°´å¹³ï¼Œä¸ä»…å®ç°äº†æµ‹è¯•å……åˆ†ã€å®‰å…¨åˆè§„ã€ç»“æ„ä¼˜é›…çš„å¼€å‘ç›®æ ‡ï¼Œä¹Ÿä½“ç°äº†å›¢é˜Ÿå¯¹å·¥ç¨‹è§„èŒƒçš„è‰¯å¥½æŒæ¡ã€‚

![alt text](./assets/sonarCI1.png)
![alt text](./assets/sonarCI2.png)
é€šè¿‡æµ‹è¯•å•å…ƒçš„ä¿®æ”¹ï¼Œè¦†ç›–ç‡å¢åŠ 
![alt text](./assets/sonarCI3.png)
æœ€ç»ˆæµ‹è¯•é€šè¿‡è¦†ç›–ç‡è¾¾åˆ°89.9 åŒæ—¶å¢åŠ äº†å¯é æ€§ è¾¾åˆ°Açº§ é™ä½å®‰å…¨çƒ­ç‚¹é£é™©
![alt text](./assets/sonarCI4.png)

### 6. ç›‘æ§ä¸æ—¥å¿—

ä¸ºäº†ç¡®ä¿ CI/CD æµæ°´çº¿çš„å¥åº·è¿è¡Œï¼Œéœ€è¦å¯¹ Jenkins æ„å»ºæ—¥å¿—å’Œ Ansible éƒ¨ç½²æ—¥å¿—è¿›è¡Œæœ‰æ•ˆç›‘æ§ã€‚

- **Jenkins æ—¥å¿—ï¼š** æ¯æ¬¡æ„å»ºéƒ½ä¼šç”Ÿæˆè¯¦ç»†æ—¥å¿—ï¼Œè®°å½•äº†æ„å»ºè¿‡ç¨‹ä¸­çš„æ¯ä¸€æ­¥éª¤å’Œä»»ä½•é”™è¯¯ä¿¡æ¯ã€‚

- **Ansible æ—¥å¿—ï¼š** Ansible æ¯æ¬¡æ‰§è¡Œ Playbook ä¹Ÿä¼šç”Ÿæˆæ—¥å¿—ï¼Œè®°å½•äº†éƒ¨ç½²ä»»åŠ¡çš„æ‰§è¡Œç»“æœå’Œé‡åˆ°çš„é—®é¢˜ã€‚

![alt text](./assets/log.png)
---

# ToDoList é¡¹ç›®æ€»ç»“æŠ¥å‘Š

  - [ä¸€ã€é¡¹ç›®èƒŒæ™¯](#ä¸€é¡¹ç›®èƒŒæ™¯)
    - [1.1 é¡¹ç›®ç›®æ ‡](#11-é¡¹ç›®ç›®æ ‡)
    - [1.2 ç”¨æˆ·éœ€æ±‚](#12-ç”¨æˆ·éœ€æ±‚)
  - [äºŒã€å¼€å‘è¿‡ç¨‹](#äºŒå¼€å‘è¿‡ç¨‹)
    - [2.1 éœ€æ±‚åˆ†æ](#21-éœ€æ±‚åˆ†æ)
    - [2.2 æ¦‚è¦è®¾è®¡](#22-æ¦‚è¦è®¾è®¡)
    - [2.3 è¯¦ç»†è®¾è®¡](#23-è¯¦ç»†è®¾è®¡)
    - [2.4 ç¼–ç å®ç°](#24-ç¼–ç å®ç°)
    - [2.5 æµ‹è¯•ä¸ä¼˜åŒ–](#25-æµ‹è¯•ä¸ä¼˜åŒ–)
    - [2.6 éƒ¨ç½²ä¸è¿ç»´](#26-éƒ¨ç½²ä¸è¿ç»´)
  - [ä¸‰ã€ä¸»è¦æˆæœ](#ä¸‰ä¸»è¦æˆæœ)
  - [å››ã€å…³é”®æ¨¡å—ä¸æŠ€æœ¯å®ç°](#å››å…³é”®æ¨¡å—ä¸æŠ€æœ¯å®ç°)
    - [4.1 ä»»åŠ¡ç®¡ç†æ¨¡å—](#41-ä»»åŠ¡ç®¡ç†æ¨¡å—)
    - [4.2 ä¹ æƒ¯æ‰“å¡æ¨¡å—](#42-ä¹ æƒ¯æ‰“å¡æ¨¡å—)
    - [4.3 ç•ªèŒ„é’Ÿæ¨¡å—](#43-ç•ªèŒ„é’Ÿæ¨¡å—)
    - [4.4 å…¸å‹ç•Œé¢å±•ç¤ºä¸ä»£ç ç»“æ„](#44-å…¸å‹ç•Œé¢å±•ç¤ºä¸ä»£ç ç»“æ„)
  - [äº”ã€é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ](#äº”é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ)
  - [å…­ã€å›¢é˜Ÿåä½œä¸åˆ›æ–°äº®ç‚¹](#å…­å›¢é˜Ÿåä½œä¸åˆ›æ–°äº®ç‚¹)
  - [ä¸ƒã€ç»“è¯­](#ä¸ƒç»“è¯­)
    - [è”ç³»ä¿¡æ¯](#è”ç³»ä¿¡æ¯)


## ä¸€ã€é¡¹ç›®èƒŒæ™¯
ToDoList é¡¹ç›®æ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªé«˜æ•ˆçš„ä»»åŠ¡ä¸ä¹ æƒ¯ç®¡ç†å¹³å°ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°è§„åˆ’æ—¥å¸¸äº‹åŠ¡ï¼Œæé«˜å·¥ä½œä¸ç”Ÿæ´»æ•ˆç‡ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£ Web æŠ€æœ¯ä¸ Python å¼€å‘ï¼Œæ”¯æŒä»»åŠ¡ç®¡ç†ã€ä¹ æƒ¯æ‰“å¡ã€ç•ªèŒ„é’Ÿç­‰åŠŸèƒ½ã€‚

### 1.1 é¡¹ç›®ç›®æ ‡
- å®ç°ä»»åŠ¡ä¸ä¹ æƒ¯çš„é«˜æ•ˆç®¡ç†ï¼Œæå‡ç”¨æˆ·è‡ªå¾‹æ€§å’Œæ—¶é—´åˆ©ç”¨ç‡ã€‚
- æä¾›ç®€æ´æ˜“ç”¨çš„ç•Œé¢ï¼Œæ”¯æŒå¤šç»ˆç«¯è®¿é—®ï¼ˆWebç«¯ä¸æ¡Œé¢ç«¯ï¼‰ã€‚
- æ”¯æŒæ•°æ®ç»Ÿè®¡ä¸å¯è§†åŒ–ï¼Œå¸®åŠ©ç”¨æˆ·åˆ†æè¡Œä¸ºä¹ æƒ¯ã€‚
- å…¼é¡¾ä¸åŒç”¨æˆ·ç¾¤ä½“çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæå‡äº§å“é€‚ç”¨æ€§ã€‚

### 1.2 ç”¨æˆ·éœ€æ±‚
- ä»»åŠ¡çš„å¢åˆ æ”¹æŸ¥ã€ä¼˜å…ˆçº§è®¾ç½®ã€å®ŒæˆçŠ¶æ€ç®¡ç†ã€‚
- ä¹ æƒ¯æ‰“å¡ã€å‘¨æœŸæ€§æé†’ã€ç»Ÿè®¡åˆ†æã€‚
- ç•ªèŒ„é’Ÿè®¡æ—¶ã€ä¸“æ³¨æ¨¡å¼ã€‚
- æ”¯æŒå¤šå¹³å°è®¿é—®ï¼ŒåŒ…æ‹¬ç½‘é¡µå’Œæœ¬åœ°æ¡Œé¢åº”ç”¨ã€‚
- ä¾¿æ·çš„æ“ä½œä½“éªŒå’Œç¾è§‚çš„ç•Œé¢ã€‚

## äºŒã€å¼€å‘è¿‡ç¨‹
é¡¹ç›®åˆ†ä¸ºéœ€æ±‚åˆ†æã€æ¦‚è¦è®¾è®¡ã€è¯¦ç»†è®¾è®¡ã€ç¼–ç å®ç°ã€æµ‹è¯•ä¸éƒ¨ç½²ç­‰é˜¶æ®µã€‚å›¢é˜Ÿæˆå‘˜åˆ†å·¥åä½œï¼Œé‡‡ç”¨æ•æ·å¼€å‘æ¨¡å¼ï¼Œå®šæœŸè¿›è¡Œéœ€æ±‚è¯„å®¡ä¸è¿­ä»£ä¼˜åŒ–ã€‚

### 2.1 éœ€æ±‚åˆ†æ
- é€šè¿‡é—®å·å’Œè°ƒç ”ï¼Œæ”¶é›†ç”¨æˆ·å¯¹ä»»åŠ¡ç®¡ç†å’Œä¹ æƒ¯å…»æˆçš„æ ¸å¿ƒéœ€æ±‚ã€‚
- æ˜ç¡®äº†åŠŸèƒ½æ¨¡å—ï¼šä»»åŠ¡ç®¡ç†ã€ä¹ æƒ¯æ‰“å¡ã€ç•ªèŒ„é’Ÿã€æ•°æ®ç»Ÿè®¡ã€ç”¨æˆ·ç®¡ç†ç­‰ã€‚
- æ˜ç¡®äº†å¤šç«¯éœ€æ±‚ï¼šæ—¢æœ‰ç½‘é¡µç«¯ï¼Œä¹Ÿæœ‰æ¡Œé¢ç«¯ï¼ˆTkinterï¼‰ã€‚

### 2.2 æ¦‚è¦è®¾è®¡
- è®¾è®¡æ•´ä½“ç³»ç»Ÿæ¶æ„ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¨¡å¼ã€‚
- åç«¯é‡‡ç”¨ FastAPI æ¡†æ¶ï¼Œå‰ç«¯åˆ†ä¸º Web ç«¯ï¼ˆHTML/CSS/JSï¼‰å’Œæ¡Œé¢ç«¯ï¼ˆTkinter GUIï¼‰ï¼Œæ•°æ®åº“é€‰ç”¨ SQLiteï¼Œä¾¿äºå¼€å‘å’Œéƒ¨ç½²ã€‚
- åˆ¶å®šæ¥å£è§„èŒƒï¼Œè¾“å‡º API æ–‡æ¡£ï¼Œä¾¿äºå‰åç«¯åä½œã€‚
- è®¾è®¡äº†ç»Ÿä¸€çš„æ•°æ®äº¤äº’åè®®ï¼Œä¿è¯å¤šç«¯æ•°æ®ä¸€è‡´æ€§ã€‚

### 2.3 è¯¦ç»†è®¾è®¡
- è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„ï¼ŒåŒ…æ‹¬ç”¨æˆ·ã€ä»»åŠ¡ã€ä¹ æƒ¯ã€æ‰“å¡è®°å½•ã€ç•ªèŒ„é’Ÿç­‰è¡¨ã€‚
- ç»†åŒ–å„æ¨¡å—åŠŸèƒ½æµç¨‹å›¾å’Œç”¨ä¾‹å›¾ã€‚
- æ˜ç¡®å„æ¥å£çš„è¾“å…¥è¾“å‡ºå‚æ•°ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚
- æ¡Œé¢ç«¯å‰ç«¯ï¼ˆTkinterï¼‰è®¾è®¡äº†ä¸»çª—å£ã€ä»»åŠ¡è§†å›¾ã€ä¹ æƒ¯æ‰“å¡è§†å›¾ã€æ—¥å†ã€ç•ªèŒ„é’Ÿç­‰æ¨¡å—ï¼Œæ³¨é‡äº¤äº’ä½“éªŒå’Œæ˜“ç”¨æ€§ã€‚
- Webç«¯é‡‡ç”¨å“åº”å¼å¸ƒå±€ï¼Œå…¼å®¹ä¸åŒåˆ†è¾¨ç‡ã€‚

### 2.4 ç¼–ç å®ç°
- åç«¯å®ç°äº†ç”¨æˆ·æ³¨å†Œç™»å½•ã€ä»»åŠ¡ä¸ä¹ æƒ¯çš„å¢åˆ æ”¹æŸ¥ã€æ‰“å¡ä¸ç»Ÿè®¡ã€ç•ªèŒ„é’Ÿç­‰æ ¸å¿ƒæ¥å£ã€‚
- Webå‰ç«¯å®ç°äº†ä»»åŠ¡åˆ—è¡¨ã€ä¹ æƒ¯æ‰“å¡ã€ç•ªèŒ„é’Ÿè®¡æ—¶ã€æ•°æ®å¯è§†åŒ–ç­‰é¡µé¢ã€‚
- æ¡Œé¢ç«¯å‰ç«¯é‡‡ç”¨ Tkinter å®ç°ï¼ŒåŒ…å«ä¸»çª—å£ã€ä»»åŠ¡ç®¡ç†ã€ä¹ æƒ¯æ‰“å¡ã€æ—¥å†ã€ç•ªèŒ„é’Ÿç­‰åŠŸèƒ½ï¼Œæ”¯æŒæœ¬åœ°ä¸åç«¯æ•°æ®äº¤äº’ã€‚
- æ¡Œé¢ç«¯é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚
- å®ç°äº†åŸºç¡€çš„æƒé™æ ¡éªŒå’Œæ•°æ®æ ¡éªŒï¼Œä¿è¯æ•°æ®å®‰å…¨ã€‚

### 2.5 æµ‹è¯•ä¸ä¼˜åŒ–
- ç¼–å†™äº†å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼Œè¦†ç›–ä¸»è¦ä¸šåŠ¡é€»è¾‘ã€‚
- é‡‡ç”¨ pytest è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä¿è¯ä»£ç è´¨é‡ã€‚
- æŒç»­ä¿®å¤ Bugï¼Œä¼˜åŒ–æ¥å£æ€§èƒ½å’Œå‰ç«¯äº¤äº’ä½“éªŒã€‚
- æ¡Œé¢ç«¯å‰ç«¯ä¹Ÿè¿›è¡Œäº†åŠŸèƒ½æµ‹è¯•å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–ã€‚

### 2.6 éƒ¨ç½²ä¸è¿ç»´
- ç¼–å†™ CI/CD è„šæœ¬ï¼Œå®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ä¸éƒ¨ç½²ã€‚
- é¡¹ç›®æ”¯æŒæœ¬åœ°å’ŒæœåŠ¡å™¨éƒ¨ç½²ï¼Œä¾¿äºæ¼”ç¤ºå’Œæ¨å¹¿ã€‚
- é€šè¿‡ SonarQube è¿›è¡Œä»£ç è´¨é‡æ£€æµ‹ã€‚
- æä¾›è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£ï¼Œæ–¹ä¾¿æ–°æˆå‘˜å¿«é€Ÿä¸Šæ‰‹ã€‚

## ä¸‰ã€ä¸»è¦æˆæœ
1. å®ç°äº†ä»»åŠ¡çš„å¢åˆ æ”¹æŸ¥ã€ä¼˜å…ˆçº§è®¾ç½®ã€ä¹ æƒ¯æ‰“å¡ã€å‘¨æœŸæ€§æé†’ã€ç•ªèŒ„é’Ÿç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚
2. å‰åç«¯åˆ†ç¦»ï¼Œæ¥å£æ–‡æ¡£å®Œå–„ï¼Œä¾¿äºåç»­æ‰©å±•å’Œç»´æŠ¤ã€‚
3. Webç«¯å’Œæ¡Œé¢ç«¯ï¼ˆTkinterï¼‰å‰ç«¯å‡å·²å®ç°ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·åœºæ™¯éœ€æ±‚ã€‚
4. æ¡Œé¢ç«¯æ”¯æŒæœ¬åœ°æ•°æ®ç¼“å­˜å’Œæ–­ç½‘æ“ä½œï¼Œæå‡äº†ç¨³å®šæ€§ã€‚
5. å®Œå–„çš„æµ‹è¯•ä½“ç³»ï¼Œå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•è¦†ç›–ç‡é«˜ï¼Œä¿è¯äº†ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚
6. é¡¹ç›®æ–‡æ¡£é½å…¨ï¼ŒåŒ…æ‹¬éœ€æ±‚åˆ†æã€è®¾è®¡æ–‡æ¡£ã€æ¥å£æ–‡æ¡£ã€æµ‹è¯•æŠ¥å‘Šç­‰ï¼Œä¾¿äºå›¢é˜Ÿåä½œä¸æ–°æˆå‘˜ä¸Šæ‰‹ã€‚
7. æ”¯æŒ CI/CD è‡ªåŠ¨åŒ–æµç¨‹ï¼Œæå‡äº†å¼€å‘æ•ˆç‡å’Œäº¤ä»˜è´¨é‡ã€‚

## å››ã€å…³é”®æ¨¡å—ä¸æŠ€æœ¯å®ç°
### 4.1 ä»»åŠ¡ç®¡ç†æ¨¡å—
- æ”¯æŒä»»åŠ¡çš„åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€å®ŒæˆçŠ¶æ€åˆ‡æ¢ã€‚
- æ”¯æŒä»»åŠ¡ä¼˜å…ˆçº§ã€æˆªæ­¢æ—¥æœŸã€æ ‡ç­¾ç­‰å±æ€§ã€‚
- æä¾›ä»»åŠ¡ç­›é€‰ã€æ’åºå’Œæœç´¢åŠŸèƒ½ã€‚
- æ¡Œé¢ç«¯å’ŒWebç«¯å‡å®ç°äº†ä»»åŠ¡ç®¡ç†ç•Œé¢ï¼Œæ¡Œé¢ç«¯é‡‡ç”¨ Tkinter çš„è‡ªå®šä¹‰æ§ä»¶å’Œå¸ƒå±€ã€‚
- æ¡Œé¢ç«¯æ”¯æŒæ‰¹é‡æ“ä½œå’Œå¿«æ·é”®ï¼Œæå‡æ•ˆç‡ã€‚

### 4.2 ä¹ æƒ¯æ‰“å¡æ¨¡å—
- æ”¯æŒä¹ æƒ¯çš„åˆ›å»ºã€å‘¨æœŸè®¾ç½®ã€æ¯æ—¥æ‰“å¡ã€‚
- è‡ªåŠ¨ç»Ÿè®¡æ‰“å¡å¤©æ•°ã€è¿ç»­æ‰“å¡å¤©æ•°ï¼Œç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ã€‚
- æ¡Œé¢ç«¯å®ç°äº†ä¹ æƒ¯æ‰“å¡çª—å£ï¼Œæ”¯æŒæœ¬åœ°ä¸åç«¯æ•°æ®åŒæ­¥ã€‚
- æ”¯æŒä¹ æƒ¯å†å²æ•°æ®çš„å¯¼å‡ºä¸åˆ†æã€‚

### 4.3 ç•ªèŒ„é’Ÿæ¨¡å—
- å®ç°ç•ªèŒ„é’Ÿè®¡æ—¶ã€ä¸“æ³¨ä¸ä¼‘æ¯äº¤æ›¿ã€‚
- æ”¯æŒç•ªèŒ„é’Ÿå†å²è®°å½•ç»Ÿè®¡ã€‚
- æ¡Œé¢ç«¯æä¾›äº†ç‹¬ç«‹çš„ç•ªèŒ„é’Ÿçª—å£ï¼Œä¾¿äºä¸“æ³¨å·¥ä½œã€‚
- æ”¯æŒè‡ªå®šä¹‰ä¸“æ³¨/ä¼‘æ¯æ—¶é•¿å’ŒéŸ³æ•ˆæé†’ã€‚


### 4.4 å…¸å‹ç•Œé¢å±•ç¤ºä¸ä»£ç ç»“æ„
- Webç«¯é‡‡ç”¨å“åº”å¼è®¾è®¡ï¼Œä¸»è¦é¡µé¢åŒ…æ‹¬ä»»åŠ¡åˆ—è¡¨ã€ä¹ æƒ¯æ‰“å¡ã€æ•°æ®ç»Ÿè®¡ç­‰ã€‚
- æ¡Œé¢ç«¯é‡‡ç”¨æ¨¡å—åŒ–ç»“æ„ï¼Œviewsç›®å½•ä¸‹åˆ’åˆ†ä¸ºæ—¥å†ã€ä»»åŠ¡ã€ä¹ æƒ¯ã€ç•ªèŒ„é’Ÿç­‰å­æ¨¡å—ï¼Œwidgetsç›®å½•ä¸‹å®ç°è‡ªå®šä¹‰æ§ä»¶ã€‚
- ä»£ç æ³¨é‡Šè§„èŒƒï¼Œä¾¿äºç»´æŠ¤å’ŒäºŒæ¬¡å¼€å‘ã€‚

## äº”ã€é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ
- **éœ€æ±‚å˜æ›´é¢‘ç¹**ï¼šé€šè¿‡æ•æ·å¼€å‘å’Œå®šæœŸæ²Ÿé€šï¼ŒåŠæ—¶è°ƒæ•´å¼€å‘è®¡åˆ’ï¼Œä¿è¯é¡¹ç›®è¿›åº¦ã€‚
- **æ¥å£è”è°ƒå›°éš¾**ï¼šåˆ¶å®šè¯¦ç»†çš„æ¥å£æ–‡æ¡£ï¼Œå‰åç«¯ååŒå¼€å‘ï¼Œé‡‡ç”¨ Apifox è¿›è¡Œæ¥å£æµ‹è¯•ã€‚
- **æµ‹è¯•è¦†ç›–ä¸è¶³**ï¼šè¡¥å……å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œæå‡ä»£ç è´¨é‡ã€‚
- **å‰ç«¯æ ·å¼å…¼å®¹æ€§é—®é¢˜**ï¼šWebç«¯é‡‡ç”¨ CSS å…¼å®¹æ€§æ–¹æ¡ˆï¼Œæ¡Œé¢ç«¯ä¼˜åŒ– Tkinter å¸ƒå±€ï¼Œé€‚é…ä¸åŒåˆ†è¾¨ç‡ã€‚
- **æ•°æ®åº“å¹¶å‘è®¿é—®é—®é¢˜**ï¼šä¼˜åŒ–æ•°æ®åº“æ“ä½œï¼Œé‡‡ç”¨äº‹åŠ¡æœºåˆ¶ï¼Œé¿å…æ•°æ®å†²çªã€‚
- **æ¡Œé¢ç«¯ä¸åç«¯æ•°æ®åŒæ­¥é—®é¢˜**ï¼šé€šè¿‡æ ‡å‡† API æ¥å£å’Œæœ¬åœ°ç¼“å­˜æœºåˆ¶ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚
- **å›¢é˜Ÿæˆå‘˜æŠ€æœ¯æ ˆå·®å¼‚**ï¼šé€šè¿‡å†…éƒ¨åˆ†äº«å’Œæ–‡æ¡£æ²‰æ·€ï¼Œæå‡å›¢é˜Ÿæ•´ä½“æŠ€æœ¯èƒ½åŠ›ã€‚

## å…­ã€å›¢é˜Ÿåä½œä¸åˆ›æ–°äº®ç‚¹
- å›¢é˜Ÿæˆå‘˜åˆ†å·¥æ˜ç¡®ï¼Œè®¾æœ‰é¡¹ç›®ç»ç†ã€åç«¯å¼€å‘ã€Webå‰ç«¯ã€æ¡Œé¢ç«¯å‰ç«¯ã€æµ‹è¯•ç­‰è§’è‰²ã€‚
- å®šæœŸå¬å¼€ä¼šè®®ï¼ŒåŠæ—¶æ²Ÿé€šè¿›å±•ä¸é—®é¢˜ã€‚
- é€šè¿‡ä»£ç è¯„å®¡å’Œæ–‡æ¡£å…±äº«ï¼Œæå‡äº†åä½œæ•ˆç‡ã€‚
- ä½¿ç”¨ Git è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œè§„èŒƒåˆ†æ”¯ç®¡ç†å’Œæäº¤è®°å½•ã€‚


## ä¸ƒã€ç»“è¯­
é€šè¿‡æœ¬æ¬¡é¡¹ç›®å¼€å‘ï¼Œå›¢é˜Ÿæˆå‘˜ä¸ä»…æå‡äº†æŠ€æœ¯èƒ½åŠ›ï¼Œä¹Ÿç§¯ç´¯äº†å®è´µçš„åä½œç»éªŒã€‚ToDoList é¡¹ç›®å·²å®ç° Web ç«¯ä¸æ¡Œé¢ç«¯ï¼ˆTkinterï¼‰åŒå‰ç«¯ï¼Œæå¤§æå‡äº†äº§å“çš„é€‚ç”¨åœºæ™¯å’Œç”¨æˆ·ä½“éªŒã€‚å›¢é˜Ÿåœ¨å¤šç«¯ååŒã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–ã€è‡ªåŠ¨åŒ–æµ‹è¯•ç­‰æ–¹é¢ç§¯ç´¯äº†ä¸°å¯Œç»éªŒã€‚å¸Œæœ›é¡¹ç›®èƒ½æŒç»­å®Œå–„ï¼Œä¸ºç”¨æˆ·å¸¦æ¥æ›´å¤§ä»·å€¼ã€‚

### è”ç³»ä¿¡æ¯
- **æ–‡æ¡£ç»´æŠ¤**: ç‰›èŒ‚æ¶¦ æé”¡æµ©
- **æœ€åæ›´æ–°**: 2025å¹´7æœˆ7æ—¥
