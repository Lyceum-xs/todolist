# **Todo-List 接口设计文档**

**文档版本：** V1.0
**编写人：** 顾晨昊
**编写日期：** 2025年07月04日
**最后修订日期：** 2025年07月04日

##  API 概述

### 1.1 设计原则

本项目API遵循RESTful设计规范，采用FastAPI框架开发，具有以下特点：

**核心特性**：
- **自动文档生成**：基于OpenAPI 3.0规范自动生成交互式API文档
- **数据验证**：使用Pydantic进行请求/响应数据验证
- **类型安全**：完整的类型注解和验证
- **中文化支持**：接口描述和错误信息中文化
- **标准化响应**：统一的HTTP状态码和错误处理

### 1.2 基础信息

**服务地址**：
- 开发环境：`http://127.0.0.1:8000`
- 生产环境：`https://api.todolist.com`

**API文档地址**：
- Swagger UI：`http://127.0.0.1:8000/docs`
- ReDoc：`http://127.0.0.1:8000/redoc`
- OpenAPI Schema：`http://127.0.0.1:8000/openapi.json`

**支持格式**：
- 请求格式：`application/json`
- 响应格式：`application/json`
- 字符编码：`UTF-8`

---

##  API 模块划分

### 2.1 功能模块

| 模块 | 前缀 | 描述 | 主要功能 |
|------|------|------|----------|
| **任务管理** | `/tasks` | 待办事项管理 | 增删改查、搜索、排序 |
| **习惯管理** | `/habits` | 习惯养成管理 | 习惯CRUD、打卡记录 |
| **统计分析** | `/stats` | 数据统计分析 | 效率统计、趋势分析 |
| **系统管理** | `/system` | 系统功能 | 健康检查、配置管理 |

### 2.2 数据模型层次

```
BaseModel (Pydantic基类)
├── TaskBase (任务基础模型)
│   ├── TaskCreate (任务创建)
│   ├── TaskUpdate (任务更新)
│   └── TaskOut (任务输出)
├── HabitBase (习惯基础模型)
│   ├── HabitCreate (习惯创建)
│   ├── HabitUpdate (习惯更新)
│   └── HabitOut (习惯输出)
└── HabitLogCreate/Out (打卡日志)
```

---

##  任务管理 API

### 3.1 创建任务

**接口信息**：
- **方法**：`POST`
- **路径**：`/tasks`
- **描述**：创建新的待办任务

**请求参数**：
```json
{
    "name": "完成项目文档",
    "description": "编写详细的API接口文档",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": null
}
```

**参数说明**：
| 字段 | 类型 | 必填 | 描述 | 示例 |
|------|------|------|------|------|
| name | string | 是 | 任务名称，最大255字符 | "完成项目文档" |
| description | string | 否 | 任务描述 | "编写详细的API接口文档" |
| due_date | datetime | 否 | 截止日期，ISO 8601格式 | "2025-07-10T18:00:00" |
| importance | boolean | 否 | 是否重要，默认false | true |
| urgent | boolean | 否 | 是否紧急，默认false | false |
| parent_id | integer | 否 | 父任务ID，用于创建子任务 | null |

**响应示例**：
```json
{
    "id": 1,
    "name": "完成项目文档",
    "description": "编写详细的API接口文档",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": 0,
    "completed": false,
    "created_at": "2025-07-05T10:00:00.123456",
    "updated_at": "2025-07-05T10:00:00.123456"
}
```

**状态码**：
- `201`：创建成功
- `400`：请求参数错误
- `422`：数据验证失败

### 3.2 获取任务列表

**接口信息**：
- **方法**：`GET`
- **路径**：`/tasks`
- **描述**：获取任务列表，支持过滤和排序

**查询参数**：
| 参数 | 类型 | 必填 | 描述 | 可选值 |
|------|------|------|------|--------|
| status | string | 否 | 任务状态过滤 | `all`, `pending`, `completed` |
| sort_by | string | 否 | 排序方式，默认priority | `priority`, `id`, `ddl` |

**请求示例**：
```http
GET /tasks?status=pending&sort_by=priority
```

**响应示例**：
```json
[
    {
        "id": 1,
        "name": "完成项目文档",
        "description": "编写详细的API接口文档",
        "due_date": "2025-07-10T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 0,
        "completed": false,
        "created_at": "2025-07-05T10:00:00.123456",
        "updated_at": "2025-07-05T10:00:00.123456"
    },
    {
        "id": 2,
        "name": "代码审查",
        "description": "审查任务管理模块代码",
        "due_date": "2025-07-08T17:00:00",
        "importance": false,
        "urgent": true,
        "parent_id": 0,
        "completed": false,
        "created_at": "2025-07-05T11:00:00.123456",
        "updated_at": "2025-07-05T11:00:00.123456"
    }
]
```

**状态码**：
- `200`：获取成功
- `400`：查询参数错误

### 3.3 获取单个任务

**接口信息**：
- **方法**：`GET`
- **路径**：`/tasks/{task_id}`
- **描述**：根据ID获取指定任务详情

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| task_id | integer | 是 | 任务ID |

**请求示例**：
```http
GET /tasks/1
```

**响应示例**：
```json
{
    "id": 1,
    "name": "完成项目文档",
    "description": "编写详细的API接口文档",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": 0,
    "completed": false,
    "created_at": "2025-07-05T10:00:00.123456",
    "updated_at": "2025-07-05T10:00:00.123456"
}
```

**状态码**：
- `200`：获取成功
- `404`：任务不存在

### 3.4 更新任务

**接口信息**：
- **方法**：`PATCH`
- **路径**：`/tasks/{task_id}`
- **描述**：更新指定任务的部分信息

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| task_id | integer | 是 | 任务ID |

**请求参数**（部分更新）：
```json
{
    "completed": true,
    "description": "API接口文档已完成编写"
}
```

**响应示例**：
```json
{
    "id": 1,
    "name": "完成项目文档",
    "description": "API接口文档已完成编写",
    "due_date": "2025-07-10T18:00:00",
    "importance": true,
    "urgent": false,
    "parent_id": 0,
    "completed": true,
    "created_at": "2025-07-05T10:00:00.123456",
    "updated_at": "2025-07-05T14:30:00.789012"
}
```

**状态码**：
- `200`：更新成功
- `400`：请求参数错误
- `404`：任务不存在
- `422`：数据验证失败

### 3.5 删除任务

**接口信息**：
- **方法**：`DELETE`
- **路径**：`/tasks/{task_id}`
- **描述**：删除指定任务（包括子任务）

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| task_id | integer | 是 | 任务ID |

**请求示例**：
```http
DELETE /tasks/1
```

**响应**：无内容（204状态码）

**状态码**：
- `204`：删除成功
- `404`：任务不存在

### 3.6 搜索任务

**接口信息**：
- **方法**：`GET`
- **路径**：`/tasks/search`
- **描述**：根据关键词搜索任务

**查询参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| q | string | 是 | 搜索关键词，最少1个字符 |

**请求示例**：
```http
GET /tasks/search?q=文档
```

**响应示例**：
```json
[
    {
        "id": 1,
        "name": "完成项目文档",
        "description": "编写详细的API接口文档",
        "due_date": "2025-07-10T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 0,
        "completed": false,
        "created_at": "2025-07-05T10:00:00.123456",
        "updated_at": "2025-07-05T10:00:00.123456"
    }
]
```

**状态码**：
- `200`：搜索成功
- `400`：查询参数错误

### 3.7 获取子任务列表

**接口信息**：
- **方法**：`GET`
- **路径**：`/tasks/{task_id}/children`
- **描述**：获取指定任务的直接子任务列表

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| task_id | integer | 是 | 父任务ID |

**请求示例**：
```http
GET /tasks/1/children
```

**响应示例**：
```json
[
    {
        "id": 3,
        "name": "编写需求分析",
        "description": "分析用户需求和系统需求",
        "due_date": "2025-07-07T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 1,
        "completed": false,
        "created_at": "2025-07-05T12:00:00.123456",
        "updated_at": "2025-07-05T12:00:00.123456"
    },
    {
        "id": 4,
        "name": "编写接口设计",
        "description": "设计API接口规范",
        "due_date": "2025-07-08T18:00:00",
        "importance": true,
        "urgent": false,
        "parent_id": 1,
        "completed": false,
        "created_at": "2025-07-05T12:30:00.123456",
        "updated_at": "2025-07-05T12:30:00.123456"
    }
]
```

**状态码**：
- `200`：获取成功
- `404`：父任务不存在

---

##  习惯管理 API

### 4.1 创建习惯

**接口信息**：
- **方法**：`POST`
- **路径**：`/habits`
- **描述**：创建新的习惯

**请求参数**：
```json
{
    "name": "早起锻炼",
    "description": "每天早上6点起床锻炼30分钟",
    "duration": 21
}
```

**参数说明**：
| 字段 | 类型 | 必填 | 描述 | 示例 |
|------|------|------|------|------|
| name | string | 是 | 习惯名称，最大128字符 | "早起锻炼" |
| description | string | 否 | 习惯描述 | "每天早上6点起床锻炼30分钟" |
| duration | integer | 否 | 目标持续天数，默认0 | 21 |

**响应示例**：
```json
{
    "id": 1,
    "name": "早起锻炼",
    "description": "每天早上6点起床锻炼30分钟",
    "duration": 21,
    "logs": []
}
```

**状态码**：
- `201`：创建成功
- `400`：请求参数错误
- `422`：数据验证失败

### 4.2 获取习惯列表

**接口信息**：
- **方法**：`GET`
- **路径**：`/habits`
- **描述**：获取所有习惯列表

**请求示例**：
```http
GET /habits
```

**响应示例**：
```json
[
    {
        "id": 1,
        "name": "早起锻炼",
        "description": "每天早上6点起床锻炼30分钟",
        "duration": 21,
        "logs": [
            {
                "id": 1,
                "habit_id": 1,
                "date": "2025-07-05T00:00:00"
            },
            {
                "id": 2,
                "habit_id": 1,
                "date": "2025-07-04T00:00:00"
            }
        ]
    },
    {
        "id": 2,
        "name": "阅读",
        "description": "每天阅读30分钟",
        "duration": 30,
        "logs": []
    }
]
```

**状态码**：
- `200`：获取成功

### 4.3 习惯打卡

**接口信息**：
- **方法**：`POST`
- **路径**：`/habits/{habit_id}/logs`
- **描述**：为指定习惯记录打卡

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| habit_id | integer | 是 | 习惯ID |

**请求参数**：
```json
{
    "date": "2025-07-05T00:00:00"
}
```

**参数说明**：
| 字段 | 类型 | 必填 | 描述 |
|------|------|------|------|
| date | datetime | 否 | 打卡日期，默认当天 |

**响应示例**：
```json
{
    "id": 3,
    "habit_id": 1,
    "date": "2025-07-05T00:00:00"
}
```

**状态码**：
- `201`：打卡成功
- `400`：请求参数错误
- `404`：习惯不存在
- `409`：今日已打卡

### 4.4 获取打卡记录

**接口信息**：
- **方法**：`GET`
- **路径**：`/habits/{habit_id}/logs`
- **描述**：获取指定习惯的所有打卡记录

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| habit_id | integer | 是 | 习惯ID |

**请求示例**：
```http
GET /habits/1/logs
```

**响应示例**：
```json
[
    {
        "id": 3,
        "habit_id": 1,
        "date": "2025-07-05T00:00:00"
    },
    {
        "id": 2,
        "habit_id": 1,
        "date": "2025-07-04T00:00:00"
    },
    {
        "id": 1,
        "habit_id": 1,
        "date": "2025-07-03T00:00:00"
    }
]
```

**状态码**：
- `200`：获取成功
- `404`：习惯不存在

### 4.5 获取连续打卡天数

**接口信息**：
- **方法**：`GET`
- **路径**：`/habits/{habit_id}/streak`
- **描述**：获取指定习惯的当前连续打卡天数

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| habit_id | integer | 是 | 习惯ID |

**请求示例**：
```http
GET /habits/1/streak
```

**响应示例**：
```json
7
```

**状态码**：
- `200`：获取成功
- `404`：习惯不存在

### 4.6 删除习惯

**接口信息**：
- **方法**：`DELETE`
- **路径**：`/habits/{habit_id}`
- **描述**：删除指定习惯及其所有打卡记录

**路径参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| habit_id | integer | 是 | 习惯ID |

**请求示例**：
```http
DELETE /habits/1
```

**响应**：无内容（204状态码）

**状态码**：
- `204`：删除成功
- `404`：习惯不存在

---

##  统计分析 API（规划中）

### 5.1 任务统计

**接口信息**：
- **方法**：`GET`
- **路径**：`/stats/tasks`
- **描述**：获取任务完成统计信息

**查询参数**：
| 参数 | 类型 | 必填 | 描述 |
|------|------|------|------|
| start_date | date | 否 | 开始日期 |
| end_date | date | 否 | 结束日期 |

**响应示例**：
```json
{
    "total_tasks": 25,
    "completed_tasks": 18,
    "pending_tasks": 7,
    "completion_rate": 0.72,
    "daily_stats": [
        {
            "date": "2025-07-01",
            "created": 3,
            "completed": 2
        },
        {
            "date": "2025-07-02",
            "created": 2,
            "completed": 4
        }
    ]
}
```

### 5.2 习惯统计

**接口信息**：
- **方法**：`GET`
- **路径**：`/stats/habits`
- **描述**：获取习惯养成统计信息

**响应示例**：
```json
{
    "total_habits": 5,
    "active_habits": 3,
    "total_logs": 45,
    "habits_summary": [
        {
            "habit_id": 1,
            "habit_name": "早起锻炼",
            "total_logs": 15,
            "current_streak": 7,
            "completion_rate": 0.85
        }
    ]
}
```

---

##  系统管理 API

### 6.1 健康检查

**接口信息**：
- **方法**：`GET`
- **路径**：`/health`
- **描述**：检查API服务状态

**请求示例**：
```http
GET /health
```

**响应示例**：
```json
{
    "status": "healthy",
    "timestamp": "2025-07-05T10:00:00.123456",
    "version": "1.0.0",
    "database": "connected"
}
```

### 6.2 API信息

**接口信息**：
- **方法**：`GET`
- **路径**：`/info`
- **描述**：获取API基本信息

**响应示例**：
```json
{
    "name": "TodoList API",
    "version": "1.0.0",
    "description": "高效生活 - TodoList 管理系统API",
    "documentation": "http://127.0.0.1:8000/docs",
    "contact": {
        "name": "TodoList Team",
        "email": "team@todolist.com"
    }
}
```

---

##  数据模型定义

### 7.1 任务模型

#### TaskBase（基础任务模型）
```json
{
    "name": "string (max 255)",
    "description": "string (nullable)",
    "due_date": "datetime (nullable)",
    "importance": "boolean (default: false)",
    "urgent": "boolean (default: false)",
    "parent_id": "integer (nullable)"
}
```

#### TaskCreate（任务创建模型）
继承TaskBase，用于创建任务时的数据验证。

#### TaskUpdate（任务更新模型）
```json
{
    "name": "string (optional, max 255)",
    "description": "string (optional)",
    "due_date": "datetime (optional)",
    "completed": "boolean (optional)",
    "importance": "boolean (optional)",
    "urgent": "boolean (optional)",
    "parent_id": "integer (optional)"
}
```

#### TaskOut（任务输出模型）
```json
{
    "id": "integer",
    "name": "string",
    "description": "string (nullable)",
    "due_date": "datetime (nullable)",
    "importance": "boolean",
    "urgent": "boolean",
    "parent_id": "integer (0表示null)",
    "completed": "boolean",
    "created_at": "datetime",
    "updated_at": "datetime"
}
```

### 7.2 习惯模型

#### HabitBase（基础习惯模型）
```json
{
    "name": "string (max 128)",
    "description": "string (nullable)",
    "duration": "integer (default: 0)"
}
```

#### HabitOut（习惯输出模型）
```json
{
    "id": "integer",
    "name": "string",
    "description": "string (nullable)",
    "duration": "integer",
    "logs": "array of HabitLogOut"
}
```

#### HabitLogOut（打卡日志输出模型）
```json
{
    "id": "integer",
    "habit_id": "integer",
    "date": "datetime"
}
```

---

## 安全与认证

### 8.1 当前安全措施

**数据验证**：
- Pydantic数据模型验证
- SQL注入防护（SQLAlchemy ORM）
- XSS防护（输入转义）

**CORS配置**：
```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_methods=["*"],
    allow_headers=["*"],
)
```

### 8.2 安全最佳实践

**建议实施**：
- JWT Token认证
- API访问限流
- 请求大小限制
- HTTPS强制使用
- 敏感数据加密

---

## 📈 性能与优化

### 9.1 性能指标

**响应时间目标**：
- GET请求：< 200ms
- POST/PATCH请求：< 500ms
- DELETE请求：< 100ms
- 搜索请求：< 1s

**并发支持**：
- 支持100个并发连接
- 数据库连接池管理
- 异步请求处理

### 9.2 优化策略

**数据库优化**：
```sql
-- 建议的索引
CREATE INDEX idx_task_name ON tasks(name);
CREATE INDEX idx_task_completed ON tasks(completed);
CREATE INDEX idx_task_due_date ON tasks(due_date);
CREATE INDEX idx_habit_name ON habits(name);
```

**缓存策略**：
- 查询结果缓存
- 静态资源缓存
- API响应缓存

---

## 测试与验证

### 10.1 API测试用例

#### 任务管理测试
```python
def test_create_task():
    """测试创建任务"""
    response = client.post("/tasks", json={
        "name": "测试任务",
        "importance": True,
        "urgent": False
    })
    assert response.status_code == 201
    assert response.json()["name"] == "测试任务"

def test_get_tasks():
    """测试获取任务列表"""
    response = client.get("/tasks?status=pending")
    assert response.status_code == 200
    assert isinstance(response.json(), list)

def test_search_tasks():
    """测试搜索任务"""
    response = client.get("/tasks/search?q=测试")
    assert response.status_code == 200
```

#### 习惯管理测试
```python
def test_create_habit():
    """测试创建习惯"""
    response = client.post("/habits", json={
        "name": "测试习惯",
        "duration": 21
    })
    assert response.status_code == 201

def test_habit_log():
    """测试习惯打卡"""
    habit_id = 1
    response = client.post(f"/habits/{habit_id}/logs", json={})
    assert response.status_code == 201
```

### 10.2 错误场景测试

```python
def test_task_not_found():
    """测试任务不存在的情况"""
    response = client.get("/tasks/999")
    assert response.status_code == 404

def test_duplicate_habit_log():
    """测试重复打卡"""
    habit_id = 1
    # 第一次打卡
    client.post(f"/habits/{habit_id}/logs", json={})
    # 第二次打卡应该失败
    response = client.post(f"/habits/{habit_id}/logs", json={})
    assert response.status_code == 409
```

---

## API使用示例

### 11.1 完整工作流程示例

#### JavaScript 客户端示例
```javascript
const API_BASE = 'http://127.0.0.1:8000';

// 1. 创建任务
async function createTask() {
    const response = await fetch(`${API_BASE}/tasks`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            name: '学习FastAPI',
            description: '完成FastAPI教程学习',
            importance: true,
            urgent: false
        })
    });
    
    const task = await response.json();
    console.log('创建的任务:', task);
    return task;
}

// 2. 获取任务列表
async function getTasks() {
    const response = await fetch(`${API_BASE}/tasks?status=pending&sort_by=priority`);
    const tasks = await response.json();
    console.log('任务列表:', tasks);
    return tasks;
}

// 3. 完成任务
async function completeTask(taskId) {
    const response = await fetch(`${API_BASE}/tasks/${taskId}`, {
        method: 'PATCH',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            completed: true
        })
    });
    
    const updatedTask = await response.json();
    console.log('任务已完成:', updatedTask);
    return updatedTask;
}

// 4. 创建习惯
async function createHabit() {
    const response = await fetch(`${API_BASE}/habits`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            name: '每日学习',
            description: '每天学习1小时编程',
            duration: 30
        })
    });
    
    const habit = await response.json();
    console.log('创建的习惯:', habit);
    return habit;
}

// 5. 习惯打卡
async function logHabit(habitId) {
    const response = await fetch(`${API_BASE}/habits/${habitId}/logs`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({})
    });
    
    if (response.status === 409) {
        console.log('今日已打卡');
        return;
    }
    
    const log = await response.json();
    console.log('打卡成功:', log);
    return log;
}
```

#### Python 客户端示例
```python
import requests
import json
from datetime import datetime

API_BASE = 'http://127.0.0.1:8000'

class TodoListAPI:
    def __init__(self, base_url=API_BASE):
        self.base_url = base_url
    
    def create_task(self, name, description=None, due_date=None, importance=False, urgent=False):
        """创建任务"""
        data = {
            'name': name,
            'description': description,
            'due_date': due_date,
            'importance': importance,
            'urgent': urgent
        }
        response = requests.post(f'{self.base_url}/tasks', json=data)
        response.raise_for_status()
        return response.json()
    
    def get_tasks(self, status=None, sort_by='priority'):
        """获取任务列表"""
        params = {}
        if status:
            params['status'] = status
        params['sort_by'] = sort_by
        
        response = requests.get(f'{self.base_url}/tasks', params=params)
        response.raise_for_status()
        return response.json()
    
    def complete_task(self, task_id):
        """完成任务"""
        data = {'completed': True}
        response = requests.patch(f'{self.base_url}/tasks/{task_id}', json=data)
        response.raise_for_status()
        return response.json()
    
    def create_habit(self, name, description=None, duration=0):
        """创建习惯"""
        data = {
            'name': name,
            'description': description,
            'duration': duration
        }
        response = requests.post(f'{self.base_url}/habits', json=data)
        response.raise_for_status()
        return response.json()
    
    def log_habit(self, habit_id):
        """习惯打卡"""
        data = {}
        response = requests.post(f'{self.base_url}/habits/{habit_id}/logs', json=data)
        if response.status_code == 409:
            print("今日已打卡")
            return None
        response.raise_for_status()
        return response.json()

# 使用示例
if __name__ == '__main__':
    api = TodoListAPI()
    
    # 创建任务
    task = api.create_task(
        name="学习API设计",
        description="深入学习RESTful API设计原则",
        importance=True
    )
    print(f"创建任务: {task['name']}")
    
    # 获取任务列表
    tasks = api.get_tasks(status='pending')
    print(f"待办任务数量: {len(tasks)}")
    
    # 创建习惯
    habit = api.create_habit(
        name="阅读技术文档",
        description="每天阅读30分钟技术文档",
        duration=21
    )
    print(f"创建习惯: {habit['name']}")
    
    # 习惯打卡
    log = api.log_habit(habit['id'])
    if log:
        print(f"打卡成功: {log['date']}")
```

---

## 相关资源

### 12.1 开发工具

**API文档工具**：
- Swagger UI：`http://127.0.0.1:8000/docs`
- ReDoc：`http://127.0.0.1:8000/redoc`
- Postman Collection：导出OpenAPI规范

**测试工具**：
- FastAPI TestClient
- Pytest
- HTTPie命令行工具

### 12.2 参考文档

- [FastAPI官方文档](https://fastapi.tiangolo.com/)
- [Pydantic文档](https://docs.pydantic.dev/)
- [SQLAlchemy文档](https://docs.sqlalchemy.org/)
- [OpenAPI规范](https://swagger.io/specification/)

---

## 附录

### A.1 HTTP状态码说明

| 状态码 | 描述 | 使用场景 |
|--------|------|----------|
| 200 | OK | GET, PATCH请求成功 |
| 201 | Created | POST请求创建成功 |
| 204 | No Content | DELETE请求成功 |
| 400 | Bad Request | 请求参数错误 |
| 404 | Not Found | 资源不存在 |
| 409 | Conflict | 资源冲突（如重复打卡） |
| 422 | Unprocessable Entity | 数据验证失败 |
| 500 | Internal Server Error | 服务器内部错误 |

### A.2 错误响应格式

```json
{
    "detail": "错误描述信息"
}
```

### A.3 日期时间格式

**标准格式**：ISO 8601
- 完整格式：`2025-07-05T14:30:00.123456`
- 日期格式：`2025-07-05`
- 时区处理：默认UTC时间

---

## 联系信息

**API负责人**：[顾晨昊]  
**技术负责人**：[李锡浩]  
**产品经理**：[牛茂润]  

[仓库链接](https://whucsgitlab.whu.edu.cn/devops/todolist)
[API服务地址](http://127.0.0.1:8000)
[文档地址](http://127.0.0.1:8000/docs)

**最后更新**：2025年7月5日


---

*本API接口文档将随着系统功能发展持续更新，请关注最新版本。*
